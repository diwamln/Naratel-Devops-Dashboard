{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/app/api/auth/%5B...nextauth%5D/route.js"],"sourcesContent":["import NextAuth from \"next-auth\"\nimport CredentialsProvider from \"next-auth/providers/credentials\"\n\nconst handler = NextAuth({\n  providers: [\n    CredentialsProvider({\n      name: 'Credentials',\n      credentials: {\n        username: { label: \"Username\", type: \"text\", placeholder: \"admin\" },\n        password: { label: \"Password\", type: \"password\" }\n      },\n      async authorize(credentials, req) {\n        // User requested no database and simple \"best practice\" for this constraints\n        // Credentials are now managed via environment variables (K8s secret friendly)\n        const validUsername = process.env.ADMIN_USERNAME;\n        const validPassword = process.env.ADMIN_PASSWORD;\n\n        if (credentials?.username === validUsername && credentials?.password === validPassword) {\n          return { id: \"1\", name: \"DevOps Admin\", email: \"admin@naratel.com\" }\n        }\n        return null\n      }\n    })\n  ],\n  pages: {\n    signIn: '/login',\n  },\n  callbacks: {\n    async jwt({ token, user }) {\n      if (user) {\n        token.id = user.id\n      }\n      return token\n    },\n    async session({ session, token }) {\n      if (session.user) {\n        session.user.id = token.id\n      }\n      return session\n    }\n  },\n  secret: process.env.NEXTAUTH_SECRET || 'devops-dashboard-secret-key-change-me',\n})\n\nexport { handler as GET, handler as POST }"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,UAAU,IAAA,2LAAQ,EAAC;IACvB,WAAW;QACT,IAAA,8MAAmB,EAAC;YAClB,MAAM;YACN,aAAa;gBACX,UAAU;oBAAE,OAAO;oBAAY,MAAM;oBAAQ,aAAa;gBAAQ;gBAClE,UAAU;oBAAE,OAAO;oBAAY,MAAM;gBAAW;YAClD;YACA,MAAM,WAAU,WAAW,EAAE,GAAG;gBAC9B,6EAA6E;gBAC7E,8EAA8E;gBAC9E,MAAM,gBAAgB,QAAQ,GAAG,CAAC,cAAc;gBAChD,MAAM,gBAAgB,QAAQ,GAAG,CAAC,cAAc;gBAEhD,IAAI,aAAa,aAAa,iBAAiB,aAAa,aAAa,eAAe;oBACtF,OAAO;wBAAE,IAAI;wBAAK,MAAM;wBAAgB,OAAO;oBAAoB;gBACrE;gBACA,OAAO;YACT;QACF;KACD;IACD,OAAO;QACL,QAAQ;IACV;IACA,WAAW;QACT,MAAM,KAAI,EAAE,KAAK,EAAE,IAAI,EAAE;YACvB,IAAI,MAAM;gBACR,MAAM,EAAE,GAAG,KAAK,EAAE;YACpB;YACA,OAAO;QACT;QACA,MAAM,SAAQ,EAAE,OAAO,EAAE,KAAK,EAAE;YAC9B,IAAI,QAAQ,IAAI,EAAE;gBAChB,QAAQ,IAAI,CAAC,EAAE,GAAG,MAAM,EAAE;YAC5B;YACA,OAAO;QACT;IACF;IACA,QAAQ,QAAQ,GAAG,CAAC,eAAe,IAAI;AACzC"}}]
}