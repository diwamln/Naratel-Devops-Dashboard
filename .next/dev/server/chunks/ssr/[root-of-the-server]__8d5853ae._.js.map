{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/assets/Logo.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1080, height: 1080, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABBElEQVR42m2PT0vCYBzHf4M2iIL2AqIO3ToIw8KxcvKMokshgWuXEStaD2qXQXNSGCT059Agsqh1qA7hRUE8qzv5TgTfgXjSn88Eb37ge/nwvXyA4zhYZCzPQRAEHkRxRczSTHCVPQ6LrhHeFNhcPSxe6x2NKAbEYpvy74fZ/3k7wsA/xHuPYPBygI0/fbinJQwouZna54M6ei/L6N9u47MXx+/HBFbKZLCrSGn4fz3pNSvJUd1XxtUnGb/YyXckDO60QWpnKw0kGTf3U9J5/sJoOPlT9JxLLBVy6OTM7vra6gZEsBKOEEIty2pTStu2bbdUVT2LPMyIkpYYrG46nucXIj8BBV9WwHusoocAAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,+LAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAAgc"}},
    {"offset": {"line": 43, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/app/components/Navigation.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport {\n  Activity,\n  Menu,\n  X,\n  LogOut,\n  Sun,\n  Moon,\n  FilePlus,\n  ChevronRight,\n  LayoutGrid,\n  PanelLeftClose,\n  PanelRightClose\n} from 'lucide-react';\nimport { signOut } from 'next-auth/react';\nimport { useTheme } from 'next-themes';\nimport Image from \"next/image\";\nimport Logo from '@/assets/Logo.png';\n\nexport default function Navigation({ isCollapsed = false, toggleCollapse }) {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const { theme, setTheme } = useTheme();\n  const [mounted, setMounted] = useState(false);\n  const pathname = usePathname();\n\n  // Mencegah hydration mismatch\n  useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  const menuItems = [\n    {\n      label: 'Approval Gateway',\n      href: '/',\n      icon: Activity,\n    },\n    {\n      label: 'App Deployment',\n      href: '/manifest',\n      icon: FilePlus,\n    },\n    {\n      label: 'Tools & Services',\n      href: '/tools',\n      icon: LayoutGrid,\n    }\n  ];\n\n  const handleLogout = async () => {\n    await signOut({ callbackUrl: '/login' });\n  };\n\n  const toggleTheme = () => {\n    setTheme(theme === 'dark' ? 'light' : 'dark');\n  };\n\n  return (\n    <>\n      {/* Mobile Top Navigation */}\n      <nav className=\"md:hidden bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800 sticky top-0 z-50 backdrop-blur-sm bg-white/95 dark:bg-neutral-900/95 transition-colors\">\n        <div className=\"px-4\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"h-8 w-auto\">\n                <Image\n                  src={Logo}\n                  alt=\"Logo\"\n                  className=\"h-full w-auto object-contain\"\n                  priority\n                />\n              </div>\n              <span className=\"text-lg font-bold text-neutral-900 dark:text-white\">DevOps</span>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              {mounted && (\n                <button\n                  onClick={toggleTheme}\n                  className=\"p-2 text-neutral-500 dark:text-neutral-400 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors\"\n                >\n                  {theme === 'dark' ? <Sun size={20} /> : <Moon size={20} />}\n                </button>\n              )}\n              <button\n                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n                className=\"p-2 text-neutral-500 dark:text-neutral-400 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors\"\n              >\n                {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\n              </button>\n            </div>\n          </div>\n\n          {/* Mobile Menu Dropdown */}\n          {mobileMenuOpen && (\n            <div className=\"py-4 space-y-2 border-t border-neutral-200 dark:border-neutral-800\">\n              {menuItems.map((item) => {\n                const Icon = item.icon;\n                const isActive = pathname === item.href;\n\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={() => setMobileMenuOpen(false)}\n                    className={`w-full flex items-center justify-between px-4 py-3 rounded-lg font-semibold transition-all ${isActive\n                      ? 'bg-[#FFA500] text-white shadow-md'\n                      : 'text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800'\n                      }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <Icon size={20} />\n                      <span>{item.label}</span>\n                    </div>\n                    {isActive && <ChevronRight size={16} />}\n                  </Link>\n                );\n              })}\n              <button\n                onClick={handleLogout}\n                className=\"w-full flex items-center gap-3 px-4 py-3 text-red-500 font-semibold hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-all\"\n              >\n                <LogOut size={20} />\n                <span>Logout</span>\n              </button>\n            </div>\n          )}\n        </div>\n      </nav>\n\n      {/* Desktop Sidebar */}\n      <aside \n        className={`hidden md:flex md:flex-col md:fixed md:inset-y-0 md:left-0 bg-white dark:bg-neutral-900 border-r border-neutral-200 dark:border-neutral-800 z-50 transition-all duration-300 ease-in-out ${\n          isCollapsed ? 'md:w-20' : 'md:w-60'\n        }`}\n      >\n        {/* Logo Section */}\n        <div className={`flex items-center p-6 mb-2 ${isCollapsed ? 'justify-center px-2' : 'justify-start px-6 gap-3'}`}>\n          <div className=\"h-10 w-auto min-w-[40px]\">\n            <Image\n              src={Logo}\n              alt=\"Logo\"\n              className=\"h-full w-auto object-contain\"\n              priority\n            />\n          </div>\n          {!isCollapsed && (\n            <div className=\"flex flex-col animate-in fade-in duration-300\">\n              <span className=\"text-sm font-black text-neutral-900 dark:text-white leading-none uppercase\">Naratel</span>\n              <span className=\"text-[10px] font-bold text-[#FFA500] uppercase tracking-widest\">DevOps</span>\n            </div>\n          )}\n        </div>\n\n        {/* Menu Items */}\n        <div className=\"flex-1 px-3 space-y-1\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            const isActive = pathname === item.href;\n\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                title={isCollapsed ? item.label : ''}\n                className={`w-full group flex items-center px-4 py-3 rounded-xl transition-all duration-200 ${\n                  isActive\n                    ? 'bg-[#FFA500] text-white shadow-lg shadow-[#FFA500]/20'\n                    : 'text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-100 dark:hover:bg-neutral-800'\n                  } ${isCollapsed ? 'justify-center px-0' : 'justify-between'}`}\n              >\n                <div className={`flex items-center gap-3 ${isCollapsed ? 'justify-center' : ''}`}>\n                  <Icon size={18} className={isActive ? 'text-white' : 'group-hover:text-[#FFA500]'} />\n                  {!isCollapsed && <span className=\"text-sm font-bold truncate\">{item.label}</span>}\n                </div>\n                {(!isCollapsed && isActive) && <ChevronRight size={14} className=\"animate-pulse\" />}\n              </Link>\n            );\n          })}\n        </div>\n\n        {/* Bottom Section: Theme & Logout */}\n        <div className=\"p-4 border-t border-neutral-200 dark:border-neutral-800 space-y-1\">\n          {mounted && (\n            <button\n              onClick={toggleTheme}\n              title={isCollapsed ? (theme === 'dark' ? 'Switch to Light Mode' : 'Switch to Dark Mode') : ''}\n              className={`w-full flex items-center px-4 py-3 text-neutral-500 dark:text-neutral-400 hover:text-[#FFA500] rounded-xl transition-all text-xs font-bold uppercase tracking-wider ${\n                isCollapsed ? 'justify-center px-0' : 'gap-3'\n              }`}\n            >\n              {theme === 'dark' ? <Sun size={18} /> : <Moon size={18} />}\n              {!isCollapsed && <span>{theme === 'dark' ? 'Light Mode' : 'Dark Mode'}</span>}\n            </button>\n          )}\n\n          <button\n            onClick={handleLogout}\n            title={isCollapsed ? \"Logout\" : \"\"}\n            className={`w-full flex items-center px-4 py-3 text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl transition-all text-xs font-bold uppercase tracking-wider ${\n              isCollapsed ? 'justify-center px-0' : 'gap-3'\n            }`}\n          >\n            <LogOut size={18} />\n            {!isCollapsed && <span>Logout System</span>}\n          </button>\n        </div>\n\n        {/* Floating Sidebar Toggle (Bottom) */}\n        <div className=\"p-4 border-t border-neutral-100 dark:border-neutral-800/50 flex justify-center\">\n          <button \n            onClick={toggleCollapse}\n            className=\"flex items-center justify-center w-full py-2.5 rounded-xl bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 text-neutral-400 hover:text-[#FFA500] hover:border-[#FFA500]/50 transition-all duration-300 shadow-sm group\"\n            title={isCollapsed ? \"Expand Sidebar\" : \"Collapse Sidebar\"}\n          >\n            {isCollapsed ? (\n              <PanelRightClose size={20} className=\"group-hover:scale-110 transition-transform\" />\n            ) : (\n              <div className=\"flex items-center gap-2\">\n                <PanelLeftClose size={20} className=\"group-hover:scale-110 transition-transform\" />\n                <span className=\"text-[10px] font-bold uppercase tracking-tighter\">Hide Sidebar</span>\n              </div>\n            )}\n          </button>\n        </div>\n      </aside>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 535, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/app/components/TopBar.js"],"sourcesContent":["'use client';\n\nimport { Search, Plus } from 'lucide-react';\nimport { useSearchParams, usePathname, useRouter } from 'next/navigation';\n\nexport default function TopBar() {\n  const searchParams = useSearchParams();\n  const pathname = usePathname();\n  const { replace } = useRouter();\n\n  const getTitle = () => {\n    if (pathname === '/') return 'Approval Gateway';\n    if (pathname === '/manifest') return 'Application Registry';\n    if (pathname === '/tools') return 'Tools & Services';\n    return 'DevOps Dashboard';\n  };\n\n  const handleSearch = (term) => {\n    const params = new URLSearchParams(searchParams);\n    if (term) {\n      params.set('search', term);\n    } else {\n      params.delete('search');\n    }\n    replace(`${pathname}?${params.toString()}`);\n  };\n\n  const handleAddApp = () => {\n    const params = new URLSearchParams(searchParams);\n    params.set('action', 'create');\n    replace(`${pathname}?${params.toString()}`);\n  };\n\n  return (\n    <header className=\"sticky top-0 md:top-0 z-30 flex items-center justify-between gap-4 h-14 px-6 border-b border-neutral-200 dark:border-neutral-800 bg-gray-50/80 dark:bg-neutral-950/80 backdrop-blur-md\">\n        <div className=\"flex-1 min-w-0\">\n            <h1 className=\"text-sm md:text-base font-bold text-neutral-900 dark:text-white tracking-tight truncate\">\n                {getTitle()}\n            </h1>\n        </div>\n        \n        <div className=\"flex items-center gap-3 shrink-0\">\n            {pathname === '/manifest' && (\n                <button\n                    onClick={handleAddApp}\n                    className=\"flex items-center gap-2 px-3 py-1.5 bg-[#FFA500] hover:bg-[#FFA500]/90 text-white rounded-lg text-xs font-bold transition-all shadow-sm shadow-orange-500/20 active:scale-95 whitespace-nowrap\"\n                >\n                    <Plus size={14} />\n                    <span className=\"hidden sm:inline\">Add Application</span>\n                    <span className=\"sm:hidden\">Add</span>\n                </button>\n            )}\n\n            <div className=\"relative w-40 md:w-64\">\n                <div className=\"absolute inset-y-0 left-0 pl-2.5 flex items-center pointer-events-none text-neutral-400\">\n                    <Search size={14} />\n                </div>\n                <input\n                    type=\"text\"\n                    placeholder=\"Search...\"\n                    className=\"block w-full pl-8 pr-3 py-1.5 border border-neutral-200 dark:border-neutral-800 rounded-lg leading-5 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white placeholder-neutral-400 focus:outline-none focus:ring-1 focus:ring-[#FFA500] text-xs transition-all shadow-sm\"\n                    onChange={(e) => handleSearch(e.target.value)}\n                    defaultValue={searchParams.get('search')?.toString()}\n                />\n            </div>\n        </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;AAHA;;;;AAKe,SAAS;IACtB,MAAM,eAAe,IAAA,0MAAe;IACpC,MAAM,WAAW,IAAA,sMAAW;IAC5B,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,oMAAS;IAE7B,MAAM,WAAW;QACf,IAAI,aAAa,KAAK,OAAO;QAC7B,IAAI,aAAa,aAAa,OAAO;QACrC,IAAI,aAAa,UAAU,OAAO;QAClC,OAAO;IACT;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,SAAS,IAAI,gBAAgB;QACnC,IAAI,MAAM;YACR,OAAO,GAAG,CAAC,UAAU;QACvB,OAAO;YACL,OAAO,MAAM,CAAC;QAChB;QACA,QAAQ,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAC5C;IAEA,MAAM,eAAe;QACnB,MAAM,SAAS,IAAI,gBAAgB;QACnC,OAAO,GAAG,CAAC,UAAU;QACrB,QAAQ,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAC5C;IAEA,qBACE,mSAAC;QAAO,WAAU;;0BACd,mSAAC;gBAAI,WAAU;0BACX,cAAA,mSAAC;oBAAG,WAAU;8BACT;;;;;;;;;;;0BAIT,mSAAC;gBAAI,WAAU;;oBACV,aAAa,6BACV,mSAAC;wBACG,SAAS;wBACT,WAAU;;0CAEV,mSAAC,+PAAI;gCAAC,MAAM;;;;;;0CACZ,mSAAC;gCAAK,WAAU;0CAAmB;;;;;;0CACnC,mSAAC;gCAAK,WAAU;0CAAY;;;;;;;;;;;;kCAIpC,mSAAC;wBAAI,WAAU;;0CACX,mSAAC;gCAAI,WAAU;0CACX,cAAA,mSAAC,qQAAM;oCAAC,MAAM;;;;;;;;;;;0CAElB,mSAAC;gCACG,MAAK;gCACL,aAAY;gCACZ,WAAU;gCACV,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gCAC5C,cAAc,aAAa,GAAG,CAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAM9D"}},
    {"offset": {"line": 676, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/app/components/DashboardLayout.js"],"sourcesContent":["'use client';\n\nimport Navigation from './Navigation';\nimport TopBar from './TopBar';\nimport { useSidebar } from '../providers/SidebarProvider';\n\nexport default function DashboardLayout({ children }) {\n  // Use global state from context to prevent flicker on navigation\n  const { isCollapsed, toggleCollapse } = useSidebar();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-950 transition-colors\">\n      <Navigation \n        isCollapsed={isCollapsed} \n        toggleCollapse={toggleCollapse}\n      />\n\n      {/* Main Content Wrapper with Dynamic Margin */}\n      <main \n        className={`transition-all duration-300 ease-in-out min-h-screen text-neutral-900 dark:text-white ${\n            isCollapsed ? 'md:ml-20' : 'md:ml-60'\n        }`}\n      >\n        <TopBar />\n        <div className=\"p-8\">\n          {children}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS,gBAAgB,EAAE,QAAQ,EAAE;IAClD,iEAAiE;IACjE,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,IAAA,6MAAU;IAElD,qBACE,mSAAC;QAAI,WAAU;;0BACb,mSAAC,sMAAU;gBACT,aAAa;gBACb,gBAAgB;;;;;;0BAIlB,mSAAC;gBACC,WAAW,CAAC,sFAAsF,EAC9F,cAAc,aAAa,YAC7B;;kCAEF,mSAAC,kMAAM;;;;;kCACP,mSAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 736, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/app/manifest/components/ManifestForm.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  FilePlus,\n  Server,\n  Database,\n  Loader2,\n  CheckCircle,\n  AlertCircle,\n  Box,\n  Plus,\n  Trash2,\n  Lock,\n  Network,\n  Upload,\n  FileText,\n  X,\n  Key,\n  ChevronRight,\n  ChevronLeft,\n  LayoutGrid,\n  Globe,\n  Copy,\n  Info,\n  GitBranch\n} from \"lucide-react\";\nimport { motion } from \"framer-motion\";\n\nconst steps = [\"Architecture\", \"Identity\", \"Database\", \"Access\", \"Configuration\"];\n\nexport default function ManifestForm({ onClose, onSuccess }) {\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({ text: '', type: '' });\n  const [step, setStep] = useState(1);\n  const [nextId, setNextId] = useState(\"001\");\n\n  // Drag & Drop States\n  const [isDraggingApp, setIsDraggingApp] = useState(false);\n  const [appFileName, setAppFileName] = useState('');\n  const [isDraggingDb, setIsDraggingDb] = useState(false);\n  const [dbFileName, setDbFileName] = useState('');\n\n  const [form, setForm] = useState({\n    // Application Details\n    appName: \"\",\n    appId: \"001\",\n    imageRepo: \"\",\n    imageTag: \"\",\n    servicePort: 80,\n    targetPort: 3000,\n\n    // Git Repository for Jenkins CI/CD\n    gitRepoUrl: \"\",\n\n    // App Architecture\n    appArchitecture: \"monolith\", // monolith, microservice\n\n    // Database Add-on\n    dbType: \"none\", // none, postgres, mariadb\n\n    // Secrets\n    appSecrets: [],\n    dbSecrets: [],\n\n    // Ingress\n    ingressEnabled: false,\n    ingressHost: \"\",\n    tlsEnabled: false,\n\n    // Database Migration\n    migrationEnabled: false,\n    migrationCommand: \"php artisan migrate --force\"\n  });\n\n  // Fetch Next ID on Mount\n  useEffect(() => {\n    fetch(\"/api/manifest/next-id\")\n      .then(res => res.json())\n      .then(data => {\n        if (data.nextId) {\n          setNextId(data.nextId);\n          setForm(prev => ({ ...prev, appId: data.nextId }));\n        }\n      })\n      .catch(err => console.error(\"Failed to fetch next ID:\", err));\n  }, []);\n\n  // --- Helper: Parse .env ---\n  const parseEnvFile = (content) => {\n    const lines = content.split('\\n');\n    const parsed = [];\n    lines.forEach((line) => {\n      const trimmed = line.trim();\n      if (!trimmed || trimmed.startsWith('#')) return;\n      const match = trimmed.match(/^([^=]+)=(.*)$/);\n      if (match) {\n        const key = match[1].trim();\n        let value = match[2].trim();\n        if ((value.startsWith('\"') && value.endsWith('\"')) || (value.startsWith(\"'\") && value.endsWith(\"'\"))) value = value.slice(1, -1);\n        parsed.push({ key, value });\n      }\n    });\n    return parsed;\n  };\n\n  // --- Secrets Handlers ---\n  const handleAppFile = (file) => {\n    if (!file.name.endsWith('.env') && !file.name.startsWith('.env')) { setMessage({ text: 'Please upload a valid .env file', type: 'error' }); return; }\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const parsed = parseEnvFile(e.target.result);\n        if (parsed.length === 0) { setMessage({ text: 'File is empty or invalid', type: 'error' }); return; }\n        // Simplify: Just use key-value. Testing env will inherit these or be overridden by ephemeral logic if needed.\n        setForm(prev => ({ ...prev, appSecrets: parsed }));\n        setAppFileName(file.name);\n        setMessage({ text: `Loaded ${parsed.length} variables for App from ${file.name}`, type: 'success' });\n      } catch (err) { setMessage({ text: 'Failed to read file', type: 'error' }); }\n    };\n    reader.readAsText(file);\n  };\n  const clearAppEnv = () => { setAppFileName(''); setForm(prev => ({ ...prev, appSecrets: [] })); };\n  const addAppSecret = () => { setForm(prev => ({ ...prev, appSecrets: [...prev.appSecrets, { key: \"\", value: \"\" }] })); };\n\n  const updateAppSecret = (index, field, value) => {\n    const updated = [...form.appSecrets];\n    updated[index][field] = value;\n    setForm(prev => ({ ...prev, appSecrets: updated }));\n  };\n\n  // DB Secrets\n  const handleDbFile = (file) => {\n    if (!file.name.endsWith('.env') && !file.name.startsWith('.env')) { setMessage({ text: 'Please upload a valid .env file', type: 'error' }); return; }\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const parsed = parseEnvFile(e.target.result);\n        if (parsed.length === 0) { setMessage({ text: 'File is empty or invalid', type: 'error' }); return; }\n        // Simplify for ephemeral flow\n        setForm(prev => ({ ...prev, dbSecrets: parsed }));\n        setDbFileName(file.name);\n        setMessage({ text: `Loaded ${parsed.length} variables for DB from ${file.name}`, type: 'success' });\n      } catch (err) { setMessage({ text: 'Failed to read file', type: 'error' }); }\n    };\n    reader.readAsText(file);\n  };\n  const clearDbEnv = () => { setDbFileName(''); setForm(prev => ({ ...prev, dbSecrets: [] })); };\n\n  const updateDbSecret = (index, field, value) => {\n    const updated = [...form.dbSecrets];\n    updated[index][field] = value;\n    setForm(prev => ({ ...prev, dbSecrets: updated }));\n  };\n\n  const handleDbTypeChange = (type) => {\n    let newDbSecrets = [];\n    if (type === 'postgres') {\n      newDbSecrets = [\n        { key: \"POSTGRESQL_DATABASE\", value: \"\" },\n        { key: \"POSTGRESQL_USERNAME\", value: \"postgres\" }, // Default safer\n        { key: \"POSTGRESQL_PASSWORD\", value: \"\" }\n      ];\n    } else if (type === 'mariadb') {\n      newDbSecrets = [\n        { key: \"MARIADB_DATABASE\", value: \"\" },\n        { key: \"MARIADB_USER\", value: \"app_user\" },\n        { key: \"MARIADB_PASSWORD\", value: \"\" },\n        { key: \"MARIADB_ROOT_PASSWORD\", value: \"\" }\n      ];\n    }\n    setDbFileName('');\n\n    setForm(prev => ({ ...prev, dbType: type, dbSecrets: newDbSecrets }));\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text);\n    setMessage({ text: 'Copied to clipboard!', type: 'success' });\n    setTimeout(() => setMessage({ text: '', type: '' }), 2000);\n  };\n\n  const validateStep = (currentStep) => {\n    if (currentStep === 2) {\n      if (!form.appName || !form.imageRepo || !form.imageTag) {\n        setMessage({ text: 'Please fill in all required fields (Name, Image, Tag)', type: 'error' });\n        return false;\n      }\n    }\n    if (currentStep === 4) {\n      if (!form.servicePort || !form.targetPort) {\n        setMessage({ text: 'Please specify Service and Target ports', type: 'error' });\n        return false;\n      }\n      if (form.ingressEnabled && !form.ingressHost) {\n        setMessage({ text: 'Please specify Ingress Hostname', type: 'error' });\n        return false;\n      }\n    }\n    setMessage({ text: '', type: '' });\n    return true;\n  };\n\n  const nextStep = () => {\n    if (validateStep(step)) setStep(prev => Math.min(prev + 1, 5));\n  };\n  const prevStep = () => setStep(prev => Math.max(prev - 1, 1));\n\n  const handleDeploy = async () => {\n    setLoading(true);\n    setMessage({ text: '', type: '' });\n    try {\n      const res = await fetch(\"/api/manifest/generate\", {\n        method: \"POST\",\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(form)\n      });\n      const result = await res.json();\n      if (res.ok) { onSuccess(result.message); } else { throw new Error(result.error || \"Failed to generate manifest\"); }\n    } catch (err) { setMessage({ text: err.message, type: 'error' }); } finally { setLoading(false); }\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (step < 5) {\n      nextStep();\n    }\n  };\n\n  // --- STEPS CONTENT ---\n  const renderArchitectureStep = () => (\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\">\n        <LayoutGrid size={24} />\n        <h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500 dark:text-neutral-400\">Application Architecture</h2>\n      </div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div onClick={() => setForm({ ...form, appArchitecture: 'monolith' })}\n          className={`cursor-pointer rounded-xl border-2 p-6 flex items-start gap-4 transition-all ${form.appArchitecture === 'monolith' ? 'border-[#FFA500] bg-[#FFA500]/5 dark:bg-[#FFA500]/10' : 'border-neutral-200 dark:border-neutral-800 hover:border-neutral-300 dark:hover:border-neutral-700'}`}>\n          <div className=\"p-3 bg-white dark:bg-neutral-900 rounded-lg shadow-sm border border-neutral-100 dark:border-neutral-800\">\n            <Box size={24} className=\"text-neutral-600 dark:text-neutral-400\" />\n          </div>\n          <div>\n            <h3 className=\"font-bold text-neutral-800 dark:text-neutral-200\">Monolith</h3>\n            <p className=\"text-xs text-neutral-500 mt-1 leading-relaxed\">Single deployment unit. Ideal for standard web apps, simple APIs, or legacy systems.</p>\n          </div>\n          {form.appArchitecture === 'monolith' && <CheckCircle size={20} className=\"text-[#FFA500] ml-auto\" />}\n        </div>\n        <div className=\"cursor-not-allowed opacity-60 rounded-xl border-2 border-neutral-200 dark:border-neutral-800 p-6 flex items-start gap-4 grayscale\">\n          <div className=\"p-3 bg-white dark:bg-neutral-900 rounded-lg shadow-sm border border-neutral-100 dark:border-neutral-800\">\n            <LayoutGrid size={24} className=\"text-neutral-600 dark:text-neutral-400\" />\n          </div>\n          <div>\n            <h3 className=\"font-bold text-neutral-800 dark:text-neutral-200 flex items-center gap-2\">Microservices <span className=\"text-[10px] bg-neutral-200 dark:bg-neutral-800 px-2 py-0.5 rounded text-neutral-500\">SOON</span></h3>\n            <p className=\"text-xs text-neutral-500 mt-1 leading-relaxed\">Distributed system with multiple services. Feature coming in future updates.</p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderIdentityStep = () => (\n    <div className=\"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Box size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500 dark:text-neutral-400\">Application Identity</h2></div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\"><label className=\"block text-xs font-bold text-neutral-500 uppercase mb-2\">Application Name</label><input required className=\"w-full p-3 text-sm border rounded-lg dark:bg-neutral-950 dark:border-neutral-800 focus:ring-2 focus:ring-[#FFA500] outline-none transition-all\" placeholder=\"e.g. inventory-app\" value={form.appName} onChange={e => setForm({ ...form, appName: e.target.value.toLowerCase().replace(/\\s+/g, '-') })} /><p className=\"text-[10px] text-neutral-400 mt-1\">Lowercase, no spaces. Will be used for DNS.</p></div>\n        <div className=\"md:col-span-2\"><label className=\"block text-xs font-bold text-neutral-500 uppercase mb-2\">Docker Image Repository</label><div className=\"relative\"><input required className=\"w-full p-3 pl-10 text-sm border rounded-lg dark:bg-neutral-950 dark:border-neutral-800 focus:ring-2 focus:ring-[#FFA500] outline-none transition-all\" placeholder=\"e.g. devopsnaratel/todo-app-php\" value={form.imageRepo} onChange={e => setForm({ ...form, imageRepo: e.target.value })} /><Box className=\"absolute left-3 top-3 text-neutral-400\" size={16} /></div></div>\n        <div className=\"md:col-span-2\"><label className=\"block text-xs font-bold text-neutral-500 uppercase mb-2\">Image Tag / Version</label><input required className=\"w-full p-3 text-sm border rounded-lg dark:bg-neutral-950 dark:border-neutral-800 focus:ring-2 focus:ring-[#FFA500] outline-none transition-all\" placeholder=\"e.g. v1.0.0 or latest\" value={form.imageTag} onChange={e => setForm({ ...form, imageTag: e.target.value })} /></div>\n\n        {/* Git Repository URL for Jenkins CI/CD */}\n        <div className=\"md:col-span-2 p-4 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-neutral-50 dark:bg-neutral-900/50\">\n          <div className=\"flex items-center gap-2 mb-3\">\n            <GitBranch size={16} className=\"text-neutral-500\" />\n            <label className=\"text-xs font-bold text-neutral-500 uppercase\">Git Repository URL (for CI/CD)</label>\n          </div>\n          <div className=\"relative\">\n            <input\n              className=\"w-full p-3 pl-10 text-sm border rounded-lg dark:bg-neutral-950 dark:border-neutral-800 focus:ring-2 focus:ring-[#FFA500] outline-none transition-all\"\n              placeholder=\"e.g. https://github.com/DevopsNaratel/my-app\"\n              value={form.gitRepoUrl}\n              onChange={e => setForm({ ...form, gitRepoUrl: e.target.value })}\n            />\n            <GitBranch className=\"absolute left-3 top-3 text-neutral-400\" size={16} />\n          </div>\n          <p className=\"text-[10px] text-neutral-400 mt-2\">\n            A Jenkins pipeline job will be automatically created for this repository.\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderDatabaseStep = () => (\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Database size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500 dark:text-neutral-400\">Database Configuration (Optional)</h2></div>\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        {['none', 'postgres', 'mariadb'].map((type) => (\n          <div key={type} onClick={() => handleDbTypeChange(type)} className={`cursor-pointer rounded-xl border-2 p-4 flex flex-col items-center justify-center gap-3 transition-all ${form.dbType === type ? 'border-[#FFA500] bg-[#FFA500]/5 dark:bg-[#FFA500]/10' : 'border-neutral-200 dark:border-neutral-800 hover:border-neutral-300 dark:hover:border-neutral-700'}`}>\n            {type === 'none' && <X size={32} className=\"text-neutral-400\" />}\n            {type === 'postgres' && <Database size={32} className=\"text-blue-500\" />}\n            {type === 'mariadb' && <Database size={32} className=\"text-orange-600\" />}\n            <span className=\"font-bold capitalize text-sm text-neutral-700 dark:text-neutral-300\">{type === 'none' ? 'No Database' : type === 'mariadb' ? 'MariaDB / MySQL' : 'PostgreSQL'}</span>\n            {form.dbType === type && <CheckCircle size={16} className=\"text-[#FFA500]\" />}\n          </div>\n        ))}\n      </div>\n      {form.dbType !== 'none' && <div className=\"p-4 bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 rounded-lg text-sm flex items-start gap-3\"><Info size={18} className=\"mt-0.5 shrink-0\" /><div><p className=\"font-bold\">Database Credentials</p><p className=\"text-xs opacity-90 mt-1\">We will automatically generate a StatefulSet for your database. You can configure passwords and secrets in the final step.</p></div></div>}\n    </div>\n  );\n\n  const renderAccessStep = () => (\n    <div className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Network size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500 dark:text-neutral-400\">Network Access</h2></div>\n\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div><label className=\"block text-xs font-bold text-neutral-500 uppercase mb-1\">Service Port</label><input type=\"number\" required className=\"w-full p-2 text-sm border rounded dark:bg-neutral-950 dark:border-neutral-800 focus:ring-1 focus:ring-[#FFA500] outline-none\" value={form.servicePort} onChange={e => setForm({ ...form, servicePort: parseInt(e.target.value) })} /><p className=\"text-[10px] text-neutral-400 mt-1\">Exposed internal port (e.g. 80)</p></div>\n        <div><label className=\"block text-xs font-bold text-neutral-500 uppercase mb-1\">Target Port</label><input type=\"number\" required className=\"w-full p-2 text-sm border rounded dark:bg-neutral-950 dark:border-neutral-800 focus:ring-1 focus:ring-[#FFA500] outline-none\" value={form.targetPort} onChange={e => setForm({ ...form, targetPort: parseInt(e.target.value) })} /><p className=\"text-[10px] text-neutral-400 mt-1\">Container listening port (e.g. 3000, 8080)</p></div>\n      </div>\n\n      <div className=\"p-6 rounded-xl border border-neutral-200 dark:border-neutral-800 bg-gray-50/50 dark:bg-neutral-900/50 space-y-4\">\n        <label className=\"flex items-center gap-3 cursor-pointer\">\n          <input type=\"checkbox\" className=\"w-5 h-5 rounded border-neutral-300 text-[#FFA500] focus:ring-[#FFA500]\" checked={form.ingressEnabled} onChange={e => setForm({ ...form, ingressEnabled: e.target.checked })} />\n          <span className=\"font-bold text-sm text-neutral-700 dark:text-neutral-300\">Enable Ingress (Public Access)</span>\n        </label>\n\n        <div className={`transition-all duration-300 space-y-4 ${form.ingressEnabled ? 'opacity-100' : 'opacity-50 pointer-events-none'}`}>\n          <div>\n            <label className=\"block text-xs font-bold text-neutral-500 uppercase mb-1\">Hostname</label>\n            <div className=\"relative\">\n              <Globe className=\"absolute left-3 top-2.5 text-neutral-400\" size={16} />\n              <input required={form.ingressEnabled} disabled={!form.ingressEnabled} className=\"w-full pl-9 p-2 text-sm border rounded dark:bg-neutral-950 dark:border-neutral-800 focus:ring-1 focus:ring-[#FFA500] outline-none\" placeholder=\"e.g. app.naratel.id\" value={form.ingressHost} onChange={e => setForm({ ...form, ingressHost: e.target.value })} />\n            </div>\n            <p className=\"text-[10px] text-neutral-400 mt-1\">Testing env will automatically use <code>test-{form.ingressHost || '...'}</code></p>\n          </div>\n\n          <div>\n            <label className=\"flex items-center gap-2 cursor-pointer\">\n              <input type=\"checkbox\" checked={form.tlsEnabled} disabled={!form.ingressEnabled} onChange={e => setForm({ ...form, tlsEnabled: e.target.checked })} className=\"rounded border-neutral-300 text-[#FFA500] focus:ring-[#FFA500]\" />\n              <span className=\"text-sm text-neutral-600 dark:text-neutral-400\">Enable HTTPS / TLS</span>\n            </label>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  const renderConfigStep = () => (\n    <div className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Server size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500 dark:text-neutral-400\">Deployment Configuration</h2></div>\n\n      {form.dbType !== 'none' && (\n        <div className=\"p-4 rounded-xl bg-neutral-900 text-neutral-200 border border-neutral-700 shadow-inner\">\n          <div className=\"flex items-center gap-2 mb-2 text-green-400\"><Database size={16} /><span className=\"text-xs font-bold uppercase tracking-wider\">Internal Database DNS</span></div>\n          <div className=\"flex items-center gap-2 bg-black/30 p-2 rounded border border-white/10\">\n            <code className=\"text-[10px] md:text-xs font-mono flex-1 text-white break-all\">\n              svc-db-{form.appName}-{nextId}.{nextId}-db-{form.appName}-prod.svc.cluster.local\n            </code>\n            <button type=\"button\" onClick={() => copyToClipboard(`svc-db-${form.appName}-${nextId}.${nextId}-db-${form.appName}-prod.svc.cluster.local`)} className=\"p-1.5 hover:bg-white/10 rounded-md transition-colors text-neutral-400 hover:text-white shrink-0\" title=\"Copy DNS\"><Copy size={14} /></button>\n          </div>\n          <p className=\"text-[10px] text-neutral-500 mt-2\">Use this hostname to connect to your database from your application.</p>\n        </div>\n      )}\n\n      <div className=\"border-t border-neutral-200 dark:border-neutral-800 pt-6\">\n        <div className=\"flex items-center justify-between mb-4\"><h3 className=\"font-bold text-sm text-neutral-600 dark:text-neutral-300\">Database Automation</h3></div>\n\n        <div className=\"bg-neutral-50 dark:bg-neutral-900/50 p-4 rounded-xl border border-neutral-200 dark:border-neutral-800 space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h4 className=\"font-bold text-sm text-neutral-800 dark:text-neutral-200\">Auto-Migration</h4>\n              <p className=\"text-xs text-neutral-500 mt-1\">Run database migration before every deployment.</p>\n            </div>\n            <label className=\"relative inline-flex items-center cursor-pointer\">\n              <input type=\"checkbox\" className=\"sr-only peer\" checked={form.migrationEnabled} onChange={e => setForm({ ...form, migrationEnabled: e.target.checked })} />\n              <div className=\"w-11 h-6 bg-neutral-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-orange-300 dark:peer-focus:ring-orange-800 rounded-full peer dark:bg-neutral-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-neutral-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-neutral-600 peer-checked:bg-[#FFA500]\"></div>\n            </label>\n          </div>\n\n          {form.migrationEnabled && (\n            <div className=\"animate-in fade-in slide-in-from-top-2\">\n              <label className=\"block text-xs font-bold text-neutral-500 uppercase mb-2\">Migration Command</label>\n              <div className=\"flex items-center gap-2 bg-neutral-900 text-neutral-200 p-2 rounded-lg border border-neutral-700 font-mono text-xs\">\n                <span className=\"text-[#FFA500]\">$</span>\n                <input type=\"text\" className=\"bg-transparent border-none outline-none w-full text-neutral-200 placeholder-neutral-600\" value={form.migrationCommand} onChange={e => setForm({ ...form, migrationCommand: e.target.value })} placeholder=\"e.g. php artisan migrate --force\" />\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div className=\"border-t border-neutral-200 dark:border-neutral-800 pt-6\">\n        <div className=\"flex items-center justify-between mb-4\"><h3 className=\"font-bold text-sm text-neutral-600 dark:text-neutral-300\">Application Secrets</h3><button type=\"button\" onClick={addAppSecret} className=\"text-xs font-bold text-[#FFA500] flex items-center gap-1\"><Plus size={12} /> Add</button></div>\n\n        {!appFileName && (\n          <div\n            onDragOver={(e) => { e.preventDefault(); setIsDraggingApp(true); }}\n            onDragLeave={(e) => { e.preventDefault(); setIsDraggingApp(false); }}\n            onDrop={(e) => {\n              e.preventDefault();\n              setIsDraggingApp(false);\n              if (e.dataTransfer.files.length > 0) handleAppFile(e.dataTransfer.files[0]);\n            }}\n            className={`mb-4 border-2 border-dashed rounded-lg p-6 text-center transition-all cursor-pointer ${isDraggingApp\n              ? 'border-[#FFA500] bg-[#FFA500]/10'\n              : 'border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 hover:border-neutral-400 dark:hover:border-neutral-600'\n              }`}>\n            <input type=\"file\" accept=\".env\" onChange={(e) => { if (e.target.files.length) handleAppFile(e.target.files[0]); e.target.value = null; }} className=\"hidden\" id=\"app-env-input\" />\n            <label htmlFor=\"app-env-input\" className=\"cursor-pointer block\">\n              <Upload className=\"mx-auto mb-2 text-neutral-400 dark:text-neutral-500\" size={24} />\n              <p className=\"text-sm font-semibold text-neutral-600 dark:text-neutral-300 mb-0.5\">Drag & drop .env or Click to select</p>\n            </label>\n          </div>\n        )}\n\n        {appFileName && (\n          <div className=\"flex items-center justify-between bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 p-3 rounded-md mb-4\">\n            <div className=\"flex items-center gap-2\">\n              <FileText className=\"text-green-500\" size={16} />\n              <div><p className=\"font-semibold text-xs text-neutral-900 dark:text-white\">{appFileName}</p><p className=\"text-[10px] text-neutral-500\">{form.appSecrets.length} variables loaded</p></div>\n            </div>\n            <button type=\"button\" onClick={clearAppEnv} className=\"text-neutral-500 hover:text-red-500 transition-colors\"><X size={14} /></button>\n          </div>\n        )}\n\n        <div className=\"space-y-2 max-h-[200px] overflow-y-auto pr-2\">\n          {form.appSecrets.map((secret, idx) => (<div key={idx} className=\"flex gap-2\"><input className=\"flex-1 p-2 text-xs border rounded dark:bg-neutral-950 dark:border-neutral-800 font-mono\" value={secret.key} onChange={e => updateAppSecret(idx, 'key', e.target.value)} placeholder=\"KEY\" /><input className=\"flex-1 p-2 text-xs border rounded dark:bg-neutral-950 dark:border-neutral-800\" value={secret.value} onChange={e => updateAppSecret(idx, 'value', e.target.value)} placeholder=\"VALUE\" /></div>))}\n          {form.appSecrets.length === 0 && !appFileName && <p className=\"text-xs text-neutral-400 italic\">No secrets configured.</p>}\n        </div>\n      </div>\n\n      {form.dbType !== 'none' && (\n        <div className=\"border-t border-neutral-200 dark:border-neutral-800 pt-6\">\n          <h3 className=\"font-bold text-sm text-neutral-600 dark:text-neutral-300 mb-4\">Database Secrets</h3>\n\n          {!dbFileName && (\n            <div\n              onDragOver={(e) => { e.preventDefault(); setIsDraggingDb(true); }}\n              onDragLeave={(e) => { e.preventDefault(); setIsDraggingDb(false); }}\n              onDrop={(e) => {\n                e.preventDefault();\n                setIsDraggingDb(false);\n                if (e.dataTransfer.files.length > 0) handleDbFile(e.dataTransfer.files[0]);\n              }}\n              className={`mb-4 border-2 border-dashed rounded-lg p-6 text-center transition-all cursor-pointer ${isDraggingDb\n                ? 'border-[#FFA500] bg-[#FFA500]/10'\n                : 'border-neutral-300 dark:border-neutral-700 bg-neutral-50 dark:bg-neutral-900 hover:border-neutral-400 dark:hover:border-neutral-600'\n                }`}>\n              <input type=\"file\" accept=\".env\" onChange={(e) => { if (e.target.files.length) handleDbFile(e.target.files[0]); e.target.value = null; }} className=\"hidden\" id=\"db-env-input\" />\n              <label htmlFor=\"db-env-input\" className=\"cursor-pointer block\">\n                <Upload className=\"mx-auto mb-2 text-neutral-400 dark:text-neutral-500\" size={24} />\n                <p className=\"text-sm font-semibold text-neutral-600 dark:text-neutral-300 mb-0.5\">Drag & drop .env or Click to select</p>\n              </label>\n            </div>\n          )}\n\n          {dbFileName && (\n            <div className=\"flex items-center justify-between bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 p-3 rounded-md mb-4\">\n              <div className=\"flex items-center gap-2\">\n                <FileText className=\"text-green-500\" size={16} />\n                <div><p className=\"font-semibold text-xs text-neutral-900 dark:text-white\">{dbFileName}</p><p className=\"text-[10px] text-neutral-500\">{form.dbSecrets.length} variables loaded</p></div>\n              </div>\n              <button type=\"button\" onClick={clearDbEnv} className=\"text-neutral-500 hover:text-red-500 transition-colors\"><X size={14} /></button>\n            </div>\n          )}\n\n          <div className=\"space-y-2\">\n            {form.dbSecrets.map((secret, idx) => (<div key={idx} className=\"flex gap-2\"><input className=\"flex-1 p-2 text-xs border rounded dark:bg-neutral-950 dark:border-neutral-800 font-mono bg-neutral-100 dark:bg-neutral-800\" value={secret.key} readOnly /><input className=\"flex-1 p-2 text-xs border rounded dark:bg-neutral-950 dark:border-neutral-800\" value={secret.value} onChange={e => updateDbSecret(idx, 'value', e.target.value)} placeholder=\"VALUE\" /></div>))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n\n  return (\n    <div className=\"bg-white dark:bg-neutral-900 w-full rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm flex flex-col relative overflow-hidden\">\n      <div className=\"bg-white dark:bg-neutral-900 px-6 py-4 border-b border-neutral-200 dark:border-neutral-800 flex justify-between items-center z-10 sticky top-0\"><div className=\"flex items-center gap-4\"><button onClick={onClose} className=\"flex items-center gap-2 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors\" title=\"Back to App List\"><ChevronLeft size={20} /></button><div className=\"h-4 w-px bg-neutral-200 dark:bg-neutral-800\"></div><h2 className=\"text-lg font-bold flex items-center gap-2 text-neutral-800 dark:text-white\"><FilePlus className=\"text-[#FFA500]\" size={20} /> New App Wizard</h2></div></div>\n\n      {/* Progress Bar (Framer Motion) */}\n      <div className=\"px-6 py-4 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <span className=\"text-xs font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">Step {step} of 5: <span className=\"text-neutral-900 dark:text-white ml-1\">{steps[step - 1]}</span></span>\n          <span className=\"text-xs font-mono font-bold text-[#FFA500]\">{Math.round((step / 5) * 100)}%</span>\n        </div>\n        <div className=\"h-1.5 w-full bg-neutral-100 dark:bg-neutral-800 rounded-full overflow-hidden\">\n          <motion.div className=\"h-full bg-[#FFA500]\" initial={{ width: 0 }} animate={{ width: `${(step / 5) * 100}%` }} transition={{ duration: 0.4, ease: \"easeInOut\" }} />\n        </div>\n      </div>\n\n      <div className=\"flex-1 overflow-y-auto p-8 relative\">\n        {message.text && (<div className={`mb-6 p-4 rounded-lg border flex items-center gap-3 text-sm animate-in slide-in-from-top-2 ${message.type === 'success' ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-300' : 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-300'}`}>{message.type === 'success' ? <CheckCircle size={18} /> : <AlertCircle size={18} />}<span>{message.text}</span></div>)}\n        <form id=\"wizard-form\" onSubmit={handleFormSubmit}>\n          {step === 1 && renderArchitectureStep()}\n          {step === 2 && renderIdentityStep()}\n          {step === 3 && renderDatabaseStep()}\n          {step === 4 && renderAccessStep()}\n          {step === 5 && renderConfigStep()}\n        </form>\n      </div>\n\n      <div className=\"p-6 bg-white dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 flex justify-between items-center z-10 flex-wrap gap-4\">\n        <button type=\"button\" onClick={prevStep} disabled={step === 1} className=\"flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold text-neutral-600 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-800 disabled:opacity-30 disabled:cursor-not-allowed transition-all\"><ChevronLeft size={16} /> Back</button>\n\n        {step === 5 && (\n          <div className=\"text-xs text-neutral-500 max-w-xs text-right hidden md:block leading-tight\">\n            Generating <strong>Production</strong> manifests. Testing environments are ephemeral and created on-demand via Jenkins.\n          </div>\n        )}\n\n        {step < 5 ? (<button type=\"button\" onClick={nextStep} className=\"flex items-center gap-2 px-8 py-2.5 rounded-lg text-sm font-bold bg-neutral-900 text-white hover:bg-neutral-800 dark:bg-white dark:text-neutral-900 dark:hover:bg-neutral-200 shadow-md transition-all transform active:scale-95\">Next Step <ChevronRight size={16} /></button>) : (<button type=\"button\" onClick={handleDeploy} disabled={loading} className=\"flex items-center gap-2 bg-[#FFA500] hover:bg-[#FFA500]/90 text-white font-bold py-2.5 px-8 rounded-lg shadow-lg shadow-orange-500/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\">{loading ? (<><Loader2 size={18} className=\"animate-spin\" />Creating...</>) : (<><Server size={18} />Deploy App</>)}</button>)}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2855, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/app/manifest/components/AppList.js"],"sourcesContent":["\"use client\";\n\nimport {\n  GitBranch,\n  Database,\n  Globe,\n  ChevronRight,\n  Loader2,\n  Box,\n  ExternalLink,\n  Activity\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport useSWR from 'swr';\n\nconst fetcher = (url) => fetch(url).then((res) => res.json());\n\nfunction StatusSegment({ appName }) {\n  const { data, isLoading } = useSWR(\n    appName ? `/api/manifest/argo-status?appName=${appName}` : null,\n    fetcher,\n    { refreshInterval: 10000, dedupingInterval: 5000 }\n  );\n\n  if (isLoading) {\n    return <div className=\"flex-1 bg-neutral-200 dark:bg-neutral-800 animate-pulse\" />;\n  }\n\n  if (!data || data.status === 'NotFound' || data.health === 'MissingConfig') {\n    return <div className=\"flex-1 bg-neutral-300 dark:bg-neutral-700\" title={`${appName}: Pending`} />;\n  }\n\n  const { health, sync, operation } = data;\n  const isHealthy = health === 'Healthy';\n  const isSynced = sync === 'Synced';\n  const isProgressing = health === 'Progressing' || operation === 'Running';\n  const isDegraded = health === 'Degraded';\n\n  let colorClass = \"bg-neutral-400 dark:bg-neutral-600\";\n\n  if (isDegraded) {\n    colorClass = \"bg-red-500\";\n  } else if (isProgressing) {\n    colorClass = \"bg-amber-500\";\n  } else if (!isSynced) {\n    colorClass = \"bg-yellow-500\";\n  } else if (isHealthy && isSynced) {\n    colorClass = \"bg-emerald-500\";\n  }\n\n  return (\n    <div\n      className={`flex-1 ${colorClass} transition-colors duration-500`}\n      title={`${appName}: ${health} / ${sync}`}\n    />\n  );\n}\n\nfunction StatusBadge({ appName }) {\n  const { data, isLoading } = useSWR(\n    appName ? `/api/manifest/argo-status?appName=${appName}` : null,\n    fetcher,\n    { refreshInterval: 10000, dedupingInterval: 5000 }\n  );\n\n  if (isLoading) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-neutral-400 dark:text-neutral-500\">\n        <Loader2 size={10} className=\"animate-spin\" />\n      </span>\n    );\n  }\n\n  if (!data || data.status === 'NotFound' || data.health === 'MissingConfig') {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-neutral-400 dark:text-neutral-500\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-neutral-400 dark:bg-neutral-600\" />\n        Pending\n      </span>\n    );\n  }\n\n  const { health, sync, operation } = data;\n  const isHealthy = health === 'Healthy';\n  const isSynced = sync === 'Synced';\n  const isProgressing = health === 'Progressing' || operation === 'Running';\n  const isDegraded = health === 'Degraded';\n\n  if (isDegraded) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-red-600 dark:text-red-400\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse\" />\n        Degraded\n      </span>\n    );\n  }\n\n  if (isProgressing) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-amber-600 dark:text-amber-400\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse\" />\n        Syncing\n      </span>\n    );\n  }\n\n  if (!isSynced) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-yellow-600 dark:text-yellow-400\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-yellow-500\" />\n        OutOfSync\n      </span>\n    );\n  }\n\n  if (isHealthy && isSynced) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-emerald-600 dark:text-emerald-400\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\" />\n        Healthy\n      </span>\n    );\n  }\n\n  return (\n    <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-neutral-400\">\n      Unknown\n    </span>\n  );\n}\n\nfunction AppCard({ app }) {\n  const router = useRouter();\n\n  const deployments = [`${app.name}-prod`];\n  if (app.db && app.db !== 'none') {\n    deployments.push(`${app.name}-db-prod`);\n  }\n\n  return (\n    <div\n      onClick={() => router.push(`/manifest/${app.name}`)}\n      className=\"group bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 hover:border-neutral-300 dark:hover:border-neutral-700 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer flex flex-col h-full overflow-hidden\"\n    >\n      <div className=\"p-5 flex flex-col h-full\">\n        {/* Top Row */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <span className=\"text-[10px] font-mono text-neutral-400 dark:text-neutral-500 bg-neutral-100 dark:bg-neutral-800 px-2 py-0.5 rounded\">\n            #{app.id}\n          </span>\n          <div className=\"flex items-center gap-2\">\n            <StatusBadge appName={`${app.name}-prod`} />\n            <ChevronRight\n              size={14}\n              className=\"text-neutral-300 dark:text-neutral-600 group-hover:text-neutral-500 dark:group-hover:text-neutral-400 transition-colors\"\n            />\n          </div>\n        </div>\n\n        {/* App Name */}\n        <div className=\"flex items-start gap-3 mb-4\">\n          <div className=\"p-2.5 bg-neutral-100 dark:bg-neutral-800 rounded-lg text-neutral-500 dark:text-neutral-400 group-hover:text-neutral-700 dark:group-hover:text-neutral-300 transition-colors\">\n            <Box size={18} strokeWidth={1.5} />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            <h3 className=\"text-base font-semibold text-neutral-900 dark:text-white leading-tight truncate\">\n              {app.name}\n            </h3>\n            <p className=\"text-[11px] text-neutral-400 dark:text-neutral-500 font-mono mt-0.5 truncate\">\n              {app.image || 'No image'}\n            </p>\n          </div>\n        </div>\n\n        {/* Info Row */}\n        <div className=\"flex items-center gap-3 mt-auto pt-3 border-t border-neutral-100 dark:border-neutral-800\">\n          {/* Domain */}\n          <div className=\"flex items-center gap-1.5 text-xs text-neutral-500 dark:text-neutral-400 min-w-0 flex-1\">\n            <Globe size={12} className=\"shrink-0 text-neutral-400\" />\n            {app.liveIngressProd ? (\n              <a\n                href={`http://${app.liveIngressProd}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                onClick={(e) => e.stopPropagation()}\n                className=\"truncate hover:text-neutral-700 dark:hover:text-neutral-300 hover:underline\"\n              >\n                {app.liveIngressProd}\n              </a>\n            ) : (\n              <span className=\"text-neutral-400 dark:text-neutral-500\">Internal</span>\n            )}\n          </div>\n\n          {/* Database */}\n          <div className=\"flex items-center gap-1.5 text-xs text-neutral-500 dark:text-neutral-400 shrink-0\">\n            <Database size={12} className=\"text-neutral-400\" />\n            <span className=\"uppercase text-[10px] font-medium\">\n              {app.db === 'none' ? '' : app.db}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Status Bar */}\n      <div className=\"h-1 w-full flex mt-auto\">\n        {deployments.map(depName => (\n          <StatusSegment key={depName} appName={depName} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default function AppList({ apps }) {\n  if (apps.length === 0) {\n    return (\n      <div className=\"col-span-full py-20 text-center flex flex-col items-center justify-center text-neutral-500 border border-dashed border-neutral-200 dark:border-neutral-800 rounded-xl bg-neutral-50 dark:bg-neutral-900/50\">\n        <div className=\"p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl mb-4\">\n          <Box size={32} strokeWidth={1.5} className=\"text-neutral-400\" />\n        </div>\n        <p className=\"font-medium text-neutral-600 dark:text-neutral-400\">No applications found</p>\n        <p className=\"text-sm max-w-xs mt-2 text-neutral-400\">\n          Create your first application using the button above.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\n      {apps.map((app) => (\n        <AppCard key={app.id} app={app} />\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAbA;;;;;AAeA,MAAM,UAAU,CAAC,MAAQ,MAAM,KAAK,IAAI,CAAC,CAAC,MAAQ,IAAI,IAAI;AAE1D,SAAS,cAAc,EAAE,OAAO,EAAE;IAChC,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,8NAAM,EAChC,UAAU,CAAC,kCAAkC,EAAE,SAAS,GAAG,MAC3D,SACA;QAAE,iBAAiB;QAAO,kBAAkB;IAAK;IAGnD,IAAI,WAAW;QACb,qBAAO,mSAAC;YAAI,WAAU;;;;;;IACxB;IAEA,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,cAAc,KAAK,MAAM,KAAK,iBAAiB;QAC1E,qBAAO,mSAAC;YAAI,WAAU;YAA4C,OAAO,GAAG,QAAQ,SAAS,CAAC;;;;;;IAChG;IAEA,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG;IACpC,MAAM,YAAY,WAAW;IAC7B,MAAM,WAAW,SAAS;IAC1B,MAAM,gBAAgB,WAAW,iBAAiB,cAAc;IAChE,MAAM,aAAa,WAAW;IAE9B,IAAI,aAAa;IAEjB,IAAI,YAAY;QACd,aAAa;IACf,OAAO,IAAI,eAAe;QACxB,aAAa;IACf,OAAO,IAAI,CAAC,UAAU;QACpB,aAAa;IACf,OAAO,IAAI,aAAa,UAAU;QAChC,aAAa;IACf;IAEA,qBACE,mSAAC;QACC,WAAW,CAAC,OAAO,EAAE,WAAW,+BAA+B,CAAC;QAChE,OAAO,GAAG,QAAQ,EAAE,EAAE,OAAO,GAAG,EAAE,MAAM;;;;;;AAG9C;AAEA,SAAS,YAAY,EAAE,OAAO,EAAE;IAC9B,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,8NAAM,EAChC,UAAU,CAAC,kCAAkC,EAAE,SAAS,GAAG,MAC3D,SACA;QAAE,iBAAiB;QAAO,kBAAkB;IAAK;IAGnD,IAAI,WAAW;QACb,qBACE,mSAAC;YAAK,WAAU;sBACd,cAAA,mSAAC,iRAAO;gBAAC,MAAM;gBAAI,WAAU;;;;;;;;;;;IAGnC;IAEA,IAAI,CAAC,QAAQ,KAAK,MAAM,KAAK,cAAc,KAAK,MAAM,KAAK,iBAAiB;QAC1E,qBACE,mSAAC;YAAK,WAAU;;8BACd,mSAAC;oBAAK,WAAU;;;;;;gBAAgE;;;;;;;IAItF;IAEA,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG;IACpC,MAAM,YAAY,WAAW;IAC7B,MAAM,WAAW,SAAS;IAC1B,MAAM,gBAAgB,WAAW,iBAAiB,cAAc;IAChE,MAAM,aAAa,WAAW;IAE9B,IAAI,YAAY;QACd,qBACE,mSAAC;YAAK,WAAU;;8BACd,mSAAC;oBAAK,WAAU;;;;;;gBAAsD;;;;;;;IAI5E;IAEA,IAAI,eAAe;QACjB,qBACE,mSAAC;YAAK,WAAU;;8BACd,mSAAC;oBAAK,WAAU;;;;;;gBAAwD;;;;;;;IAI9E;IAEA,IAAI,CAAC,UAAU;QACb,qBACE,mSAAC;YAAK,WAAU;;8BACd,mSAAC;oBAAK,WAAU;;;;;;gBAA2C;;;;;;;IAIjE;IAEA,IAAI,aAAa,UAAU;QACzB,qBACE,mSAAC;YAAK,WAAU;;8BACd,mSAAC;oBAAK,WAAU;;;;;;gBAA4C;;;;;;;IAIlE;IAEA,qBACE,mSAAC;QAAK,WAAU;kBAAgG;;;;;;AAIpH;AAEA,SAAS,QAAQ,EAAE,GAAG,EAAE;IACtB,MAAM,SAAS,IAAA,oMAAS;IAExB,MAAM,cAAc;QAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC;KAAC;IACxC,IAAI,IAAI,EAAE,IAAI,IAAI,EAAE,KAAK,QAAQ;QAC/B,YAAY,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,QAAQ,CAAC;IACxC;IAEA,qBACE,mSAAC;QACC,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,UAAU,EAAE,IAAI,IAAI,EAAE;QAClD,WAAU;;0BAEV,mSAAC;gBAAI,WAAU;;kCAEb,mSAAC;wBAAI,WAAU;;0CACb,mSAAC;gCAAK,WAAU;;oCAAsH;oCAClI,IAAI,EAAE;;;;;;;0CAEV,mSAAC;gCAAI,WAAU;;kDACb,mSAAC;wCAAY,SAAS,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC;;;;;;kDACxC,mSAAC,2RAAY;wCACX,MAAM;wCACN,WAAU;;;;;;;;;;;;;;;;;;kCAMhB,mSAAC;wBAAI,WAAU;;0CACb,mSAAC;gCAAI,WAAU;0CACb,cAAA,mSAAC,4PAAG;oCAAC,MAAM;oCAAI,aAAa;;;;;;;;;;;0CAE9B,mSAAC;gCAAI,WAAU;;kDACb,mSAAC;wCAAG,WAAU;kDACX,IAAI,IAAI;;;;;;kDAEX,mSAAC;wCAAE,WAAU;kDACV,IAAI,KAAK,IAAI;;;;;;;;;;;;;;;;;;kCAMpB,mSAAC;wBAAI,WAAU;;0CAEb,mSAAC;gCAAI,WAAU;;kDACb,mSAAC,kQAAK;wCAAC,MAAM;wCAAI,WAAU;;;;;;oCAC1B,IAAI,eAAe,iBAClB,mSAAC;wCACC,MAAM,CAAC,OAAO,EAAE,IAAI,eAAe,EAAE;wCACrC,QAAO;wCACP,KAAI;wCACJ,SAAS,CAAC,IAAM,EAAE,eAAe;wCACjC,WAAU;kDAET,IAAI,eAAe;;;;;6DAGtB,mSAAC;wCAAK,WAAU;kDAAyC;;;;;;;;;;;;0CAK7D,mSAAC;gCAAI,WAAU;;kDACb,mSAAC,2QAAQ;wCAAC,MAAM;wCAAI,WAAU;;;;;;kDAC9B,mSAAC;wCAAK,WAAU;kDACb,IAAI,EAAE,KAAK,SAAS,MAAM,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;0BAOzC,mSAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAA,wBACf,mSAAC;wBAA4B,SAAS;uBAAlB;;;;;;;;;;;;;;;;AAK9B;AAEe,SAAS,QAAQ,EAAE,IAAI,EAAE;IACtC,IAAI,KAAK,MAAM,KAAK,GAAG;QACrB,qBACE,mSAAC;YAAI,WAAU;;8BACb,mSAAC;oBAAI,WAAU;8BACb,cAAA,mSAAC,4PAAG;wBAAC,MAAM;wBAAI,aAAa;wBAAK,WAAU;;;;;;;;;;;8BAE7C,mSAAC;oBAAE,WAAU;8BAAqD;;;;;;8BAClE,mSAAC;oBAAE,WAAU;8BAAyC;;;;;;;;;;;;IAK5D;IAEA,qBACE,mSAAC;QAAI,WAAU;kBACZ,KAAK,GAAG,CAAC,CAAC,oBACT,mSAAC;gBAAqB,KAAK;eAAb,IAAI,EAAE;;;;;;;;;;AAI5B"}},
    {"offset": {"line": 3320, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/hooks/useRegistry.js"],"sourcesContent":["\"use client\";\n\nimport useSWR from 'swr';\nimport { fetcher } from '@/lib/fetcher';\n\n/**\n * Custom hook to fetch and cache the application registry\n * This data is shared across all pages that need registry info\n */\nexport function useRegistry() {\n    const { data, error, isLoading, mutate } = useSWR(\n        '/api/manifest/next-id',\n        fetcher,\n        {\n            revalidateOnFocus: false,      // Don't refetch when tab regains focus\n            revalidateOnReconnect: true,   // Refetch when network reconnects\n            dedupingInterval: 5000,        // Dedupe requests within 5 seconds\n            keepPreviousData: true,        // Keep showing old data while fetching new\n        }\n    );\n\n    // Sort apps by ID descending (newest first)\n    const apps = data?.registry\n        ? [...data.registry].sort((a, b) => parseInt(b.id) - parseInt(a.id))\n        : [];\n\n    return {\n        apps,\n        nextId: data?.nextId,\n        isLoading,\n        isError: error,\n        mutate, // Expose mutate for manual revalidation after create/delete\n    };\n}\n\n/**\n * Get a single app from the registry by name\n */\nexport function useApp(appName) {\n    const { apps, isLoading, isError, mutate } = useRegistry();\n\n    const decodedName = decodeURIComponent(appName || '');\n    const app = apps.find(a => a.name.toLowerCase() === decodedName.toLowerCase());\n\n    return {\n        app,\n        isLoading,\n        isError,\n        mutate,\n    };\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;AAHA;;;AASO,SAAS;IACZ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,IAAA,8NAAM,EAC7C,yBACA,qLAAO,EACP;QACI,mBAAmB;QACnB,uBAAuB;QACvB,kBAAkB;QAClB,kBAAkB;IACtB;IAGJ,4CAA4C;IAC5C,MAAM,OAAO,MAAM,WACb;WAAI,KAAK,QAAQ;KAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,SAAS,EAAE,EAAE,IAAI,SAAS,EAAE,EAAE,KAChE,EAAE;IAER,OAAO;QACH;QACA,QAAQ,MAAM;QACd;QACA,SAAS;QACT;IACJ;AACJ;AAKO,SAAS,OAAO,OAAO;IAC1B,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG;IAE7C,MAAM,cAAc,mBAAmB,WAAW;IAClD,MAAM,MAAM,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,CAAC,WAAW,OAAO,YAAY,WAAW;IAE3E,OAAO;QACH;QACA;QACA;QACA;IACJ;AACJ"}},
    {"offset": {"line": 3365, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/webui-devops/Naratel-Devops-Dashboard/src/app/manifest/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Plus,\n  X,\n  Loader2,\n  CheckCircle,\n  AlertCircle\n} from \"lucide-react\";\nimport DashboardLayout from \"../components/DashboardLayout\";\nimport { useRouter, useSearchParams, usePathname } from \"next/navigation\";\nimport ManifestForm from \"./components/ManifestForm\";\nimport AppList from \"./components/AppList\";\nimport { useRegistry } from \"@/hooks/useRegistry\";\n\nexport default function ManifestPage() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const searchQuery = searchParams.get('search')?.toLowerCase() || '';\n  const action = searchParams.get('action');\n  const messageParam = searchParams.get('message');\n\n  //  SWR: Data fetched once, cached globally, instant on navigation back\n  const { apps: existingApps, isLoading: isLoadingRegistry, mutate } = useRegistry();\n\n  // Feedback Message\n  const [message, setMessage] = useState(null);\n\n  // View State\n  const isCreating = action === 'create';\n\n  const handleCloseCreate = () => {\n    const params = new URLSearchParams(searchParams);\n    params.delete('action');\n    router.push(`${pathname}?${params.toString()}`);\n  };\n\n  useEffect(() => {\n    if (messageParam) {\n      setMessage({ text: messageParam, type: 'success' });\n      // Clean URL\n      const params = new URLSearchParams(searchParams);\n      params.delete('message');\n      window.history.replaceState(null, '', `${pathname}?${params.toString()}`);\n    }\n  }, [messageParam, pathname, searchParams]);\n\n  const filteredApps = existingApps.filter(app =>\n    app.name.toLowerCase().includes(searchQuery) ||\n    app.id.toString().includes(searchQuery) ||\n    (app.image && app.image.toLowerCase().includes(searchQuery)) ||\n    (app.liveIngressProd && app.liveIngressProd.toLowerCase().includes(searchQuery))\n  );\n\n  const handleFormSuccess = (msg) => {\n    handleCloseCreate();\n    setMessage({ text: msg, type: 'success' });\n    mutate(); //  Revalidate cache after create\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"w-full h-full flex flex-col\">\n\n        {/* Feedback Message (Page Level) */}\n        {message && !isCreating && (\n          <div className={`mb-6 p-4 rounded-lg border flex items-center gap-3 text-sm animate-in fade-in slide-in-from-top-2 ${message.type === 'success'\n              ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-300'\n              : 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-300'\n            }`}>\n            {message.type === 'success' ? <CheckCircle size={18} /> : <AlertCircle size={18} />}\n            <span>{message.text}</span>\n            <button onClick={() => setMessage(null)} className=\"ml-auto hover:opacity-70\"><X size={16} /></button>\n          </div>\n        )}\n\n        {isCreating ? (\n          /* Create App View (Replaces AppList) */\n          <div className=\"animate-in fade-in slide-in-from-bottom-4\">\n            <ManifestForm\n              onClose={handleCloseCreate}\n              onSuccess={handleFormSuccess}\n            />\n          </div>\n        ) : (\n          <>\n            {/* Apps Grid */}\n            {isLoadingRegistry ? (\n              <div className=\"flex flex-col items-center justify-center py-20 text-neutral-500\">\n                <Loader2 size={48} className=\"animate-spin text-[#FFA500] mb-4\" />\n                <p>Loading application registry...</p>\n              </div>\n            ) : (\n              <AppList\n                apps={filteredApps}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AAdA;;;;;;;;;AAgBe,SAAS;IACtB,MAAM,SAAS,IAAA,oMAAS;IACxB,MAAM,WAAW,IAAA,sMAAW;IAC5B,MAAM,eAAe,IAAA,0MAAe;IACpC,MAAM,cAAc,aAAa,GAAG,CAAC,WAAW,iBAAiB;IACjE,MAAM,SAAS,aAAa,GAAG,CAAC;IAChC,MAAM,eAAe,aAAa,GAAG,CAAC;IAEtC,yEAAyE;IACzE,MAAM,EAAE,MAAM,YAAY,EAAE,WAAW,iBAAiB,EAAE,MAAM,EAAE,GAAG,IAAA,+LAAW;IAEhF,mBAAmB;IACnB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sQAAQ,EAAC;IAEvC,aAAa;IACb,MAAM,aAAa,WAAW;IAE9B,MAAM,oBAAoB;QACxB,MAAM,SAAS,IAAI,gBAAgB;QACnC,OAAO,MAAM,CAAC;QACd,OAAO,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAChD;IAEA,IAAA,uQAAS,EAAC;QACR,IAAI,cAAc;YAChB,WAAW;gBAAE,MAAM;gBAAc,MAAM;YAAU;YACjD,YAAY;YACZ,MAAM,SAAS,IAAI,gBAAgB;YACnC,OAAO,MAAM,CAAC;YACd,OAAO,OAAO,CAAC,YAAY,CAAC,MAAM,IAAI,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;QAC1E;IACF,GAAG;QAAC;QAAc;QAAU;KAAa;IAEzC,MAAM,eAAe,aAAa,MAAM,CAAC,CAAA,MACvC,IAAI,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,gBAChC,IAAI,EAAE,CAAC,QAAQ,GAAG,QAAQ,CAAC,gBAC1B,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,gBAC9C,IAAI,eAAe,IAAI,IAAI,eAAe,CAAC,WAAW,GAAG,QAAQ,CAAC;IAGrE,MAAM,oBAAoB,CAAC;QACzB;QACA,WAAW;YAAE,MAAM;YAAK,MAAM;QAAU;QACxC,UAAU,mCAAmC;IAC/C;IAEA,qBACE,mSAAC,2MAAe;kBACd,cAAA,mSAAC;YAAI,WAAU;;gBAGZ,WAAW,CAAC,4BACX,mSAAC;oBAAI,WAAW,CAAC,kGAAkG,EAAE,QAAQ,IAAI,KAAK,YAChI,+GACA,kGACF;;wBACD,QAAQ,IAAI,KAAK,0BAAY,mSAAC,+RAAW;4BAAC,MAAM;;;;;iDAAS,mSAAC,wRAAW;4BAAC,MAAM;;;;;;sCAC7E,mSAAC;sCAAM,QAAQ,IAAI;;;;;;sCACnB,mSAAC;4BAAO,SAAS,IAAM,WAAW;4BAAO,WAAU;sCAA2B,cAAA,mSAAC,sPAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;gBAI1F,aACC,sCAAsC,iBACtC,mSAAC;oBAAI,WAAU;8BACb,cAAA,mSAAC,oNAAY;wBACX,SAAS;wBACT,WAAW;;;;;;;;;;yCAIf;8BAEG,kCACC,mSAAC;wBAAI,WAAU;;0CACb,mSAAC,iRAAO;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC7B,mSAAC;0CAAE;;;;;;;;;;;6CAGL,mSAAC,+MAAO;wBACN,MAAM;;;;;;;;;;;;;;;;;;AAQtB"}}]
}