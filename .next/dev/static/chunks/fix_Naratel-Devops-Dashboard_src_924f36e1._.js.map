{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/assets/Logo.png.mjs%20%28structured%20image%20object%20with%20data%20url%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1080, height: 1080, blurWidth: 8, blurHeight: 8, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABBElEQVR42m2PT0vCYBzHf4M2iIL2AqIO3ToIw8KxcvKMokshgWuXEStaD2qXQXNSGCT059Agsqh1qA7hRUE8qzv5TgTfgXjSn88Eb37ge/nwvXyA4zhYZCzPQRAEHkRxRczSTHCVPQ6LrhHeFNhcPSxe6x2NKAbEYpvy74fZ/3k7wsA/xHuPYPBygI0/fbinJQwouZna54M6ei/L6N9u47MXx+/HBFbKZLCrSGn4fz3pNSvJUd1XxtUnGb/YyXckDO60QWpnKw0kGTf3U9J5/sJoOPlT9JxLLBVy6OTM7vra6gZEsBKOEEIty2pTStu2bbdUVT2LPMyIkpYYrG46nucXIj8BBV9WwHusoocAAAAASUVORK5CYII=\"};\n"],"names":[],"mappings":";;;;AAAA;;uCACe;IAAE,KAAA,mLAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAAgc"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/app/components/Navigation.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport {\n  Activity,\n  Menu,\n  X,\n  LogOut,\n  Sun,\n  Moon,\n  FilePlus,\n  ChevronRight,\n  LayoutGrid,\n  PanelLeftClose,\n  PanelRightClose,\n  GitBranch\n} from 'lucide-react';\nimport { signOut } from 'next-auth/react';\nimport { useTheme } from 'next-themes';\nimport Image from \"next/image\";\nimport Logo from '@/assets/Logo.png';\n\nexport default function Navigation({ isCollapsed = false, toggleCollapse }) {\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n  const { theme, setTheme } = useTheme();\n  const [mounted, setMounted] = useState(false);\n  const pathname = usePathname();\n\n  // Mencegah hydration mismatch\n  useEffect(() => {\n    // eslint-disable-next-line\n    setMounted(true);\n  }, []);\n\n  const menuItems = [\n    {\n      label: 'App List',\n      href: '/',\n      icon: LayoutGrid,\n    },\n    {\n      label: 'Approval Gateway',\n      href: '/approval',\n      icon: GitBranch,\n    },\n    {\n      label: 'Tools & Services',\n      href: '/tools',\n      icon: Activity,\n    }\n  ];\n\n  const handleLogout = async () => {\n    await signOut({ callbackUrl: '/login' });\n  };\n\n  const toggleTheme = () => {\n    setTheme(theme === 'dark' ? 'light' : 'dark');\n  };\n\n  return (\n    <>\n      {/* Mobile Top Navigation */}\n      <nav className=\"md:hidden bg-white dark:bg-neutral-900 border-b border-neutral-200 dark:border-neutral-800 sticky top-0 z-50 backdrop-blur-sm bg-white/95 dark:bg-neutral-900/95 transition-colors\">\n        <div className=\"px-4\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-3\">\n              <div className=\"h-8 w-auto\">\n                <Image\n                  src={Logo}\n                  alt=\"Logo\"\n                  className=\"h-full w-auto object-contain\"\n                  priority\n                />\n              </div>\n              <span className=\"text-lg font-bold text-neutral-900 dark:text-white\">DevOps</span>\n            </div>\n\n            <div className=\"flex items-center gap-2\">\n              {mounted && (\n                <button\n                  onClick={toggleTheme}\n                  className=\"p-2 text-neutral-500 dark:text-neutral-400 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors\"\n                >\n                  {theme === 'dark' ? <Sun size={20} /> : <Moon size={20} />}\n                </button>\n              )}\n              <button\n                onClick={() => setMobileMenuOpen(!mobileMenuOpen)}\n                className=\"p-2 text-neutral-500 dark:text-neutral-400 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors\"\n              >\n                {mobileMenuOpen ? <X size={24} /> : <Menu size={24} />}\n              </button>\n            </div>\n          </div>\n\n          {/* Mobile Menu Dropdown */}\n          {mobileMenuOpen && (\n            <div className=\"py-4 space-y-2 border-t border-neutral-200 dark:border-neutral-800\">\n              {menuItems.map((item) => {\n                const Icon = item.icon;\n                const isActive = pathname === item.href;\n\n                return (\n                  <Link\n                    key={item.href}\n                    href={item.href}\n                    onClick={() => setMobileMenuOpen(false)}\n                    className={`w-full flex items-center justify-between px-4 py-3 rounded-lg font-semibold transition-all ${isActive\n                      ? 'bg-[#FFA500] text-white shadow-md'\n                      : 'text-neutral-500 dark:text-neutral-400 hover:bg-neutral-100 dark:hover:bg-neutral-800'\n                      }`}\n                  >\n                    <div className=\"flex items-center gap-3\">\n                      <Icon size={20} />\n                      <span>{item.label}</span>\n                    </div>\n                    {isActive && <ChevronRight size={16} />}\n                  </Link>\n                );\n              })}\n              <button\n                onClick={handleLogout}\n                className=\"w-full flex items-center gap-3 px-4 py-3 text-red-500 font-semibold hover:bg-red-50 dark:hover:bg-red-500/10 rounded-lg transition-all\"\n              >\n                <LogOut size={20} />\n                <span>Logout</span>\n              </button>\n            </div>\n          )}\n        </div>\n      </nav>\n\n      {/* Desktop Sidebar */}\n      <aside\n        className={`hidden md:flex md:flex-col md:fixed md:inset-y-0 md:left-0 bg-white dark:bg-neutral-900 border-r border-neutral-200 dark:border-neutral-800 z-50 transition-all duration-300 ease-in-out ${isCollapsed ? 'md:w-20' : 'md:w-60'\n          }`}\n      >\n        {/* Logo Section */}\n        <div className={`flex items-center p-6 mb-2 ${isCollapsed ? 'justify-center px-2' : 'justify-start px-6 gap-3'}`}>\n          <div className=\"h-10 w-auto min-w-[40px]\">\n            <Image\n              src={Logo}\n              alt=\"Logo\"\n              className=\"h-full w-auto object-contain\"\n              priority\n            />\n          </div>\n          {!isCollapsed && (\n            <div className=\"flex flex-col animate-in fade-in duration-300\">\n              <span className=\"text-sm font-black text-neutral-900 dark:text-white leading-none uppercase\">Naratel</span>\n              <span className=\"text-[10px] font-bold text-[#FFA500] uppercase tracking-widest\">DevOps</span>\n            </div>\n          )}\n        </div>\n\n        {/* Menu Items */}\n        <div className=\"flex-1 px-3 space-y-1\">\n          {menuItems.map((item) => {\n            const Icon = item.icon;\n            const isActive = pathname === item.href;\n\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                title={isCollapsed ? item.label : ''}\n                className={`w-full group flex items-center px-4 py-3 rounded-xl transition-all duration-200 ${isActive\n                  ? 'bg-[#FFA500] text-white shadow-lg shadow-[#FFA500]/20'\n                  : 'text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-100 dark:hover:bg-neutral-800'\n                  } ${isCollapsed ? 'justify-center px-0' : 'justify-between'}`}\n              >\n                <div className={`flex items-center gap-3 ${isCollapsed ? 'justify-center' : ''}`}>\n                  <Icon size={18} className={isActive ? 'text-white' : 'group-hover:text-[#FFA500]'} />\n                  {!isCollapsed && <span className=\"text-sm font-bold truncate\">{item.label}</span>}\n                </div>\n                {(!isCollapsed && isActive) && <ChevronRight size={14} className=\"animate-pulse\" />}\n              </Link>\n            );\n          })}\n        </div>\n\n        {/* Bottom Section: Theme & Logout */}\n        <div className=\"p-4 border-t border-neutral-200 dark:border-neutral-800 space-y-1\">\n          {mounted && (\n            <button\n              onClick={toggleTheme}\n              title={isCollapsed ? (theme === 'dark' ? 'Switch to Light Mode' : 'Switch to Dark Mode') : ''}\n              className={`w-full flex items-center px-4 py-3 text-neutral-500 dark:text-neutral-400 hover:text-[#FFA500] rounded-xl transition-all text-xs font-bold uppercase tracking-wider ${isCollapsed ? 'justify-center px-0' : 'gap-3'\n                }`}\n            >\n              {theme === 'dark' ? <Sun size={18} /> : <Moon size={18} />}\n              {!isCollapsed && <span>{theme === 'dark' ? 'Light Mode' : 'Dark Mode'}</span>}\n            </button>\n          )}\n\n          <button\n            onClick={handleLogout}\n            title={isCollapsed ? \"Logout\" : \"\"}\n            className={`w-full flex items-center px-4 py-3 text-red-500 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-500/10 rounded-xl transition-all text-xs font-bold uppercase tracking-wider ${isCollapsed ? 'justify-center px-0' : 'gap-3'\n              }`}\n          >\n            <LogOut size={18} />\n            {!isCollapsed && <span>Logout System</span>}\n          </button>\n        </div>\n\n        {/* Floating Sidebar Toggle (Bottom) */}\n        <div className=\"p-4 border-t border-neutral-100 dark:border-neutral-800/50 flex justify-center\">\n          <button\n            onClick={toggleCollapse}\n            className=\"flex items-center justify-center w-full py-2.5 rounded-xl bg-neutral-50 dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-800 text-neutral-400 hover:text-[#FFA500] hover:border-[#FFA500]/50 transition-all duration-300 shadow-sm group\"\n            title={isCollapsed ? \"Expand Sidebar\" : \"Collapse Sidebar\"}\n          >\n            {isCollapsed ? (\n              <PanelRightClose size={20} className=\"group-hover:scale-110 transition-transform\" />\n            ) : (\n              <div className=\"flex items-center gap-2\">\n                <PanelLeftClose size={20} className=\"group-hover:scale-110 transition-transform\" />\n                <span className=\"text-[10px] font-bold uppercase tracking-tighter\">Hide Sidebar</span>\n              </div>\n            )}\n          </button>\n        </div>\n      </aside>\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/app/components/TopBar.js"],"sourcesContent":["'use client';\n\nimport { Search, Plus } from 'lucide-react';\nimport { useSearchParams, usePathname, useRouter } from 'next/navigation';\n\nexport default function TopBar() {\n  const searchParams = useSearchParams();\n  const pathname = usePathname();\n  const { replace } = useRouter();\n\n  const getTitle = () => {\n    if (pathname === '/') return 'App List';\n    if (pathname === '/approval') return 'Request Approval';\n    if (pathname === '/tools') return 'Service Catalog';\n    return 'DevOps Dashboard';\n  };\n\n  const handleSearch = (term) => {\n    const params = new URLSearchParams(searchParams);\n    if (term) {\n      params.set('search', term);\n    } else {\n      params.delete('search');\n    }\n    replace(`${pathname}?${params.toString()}`);\n  };\n\n  const handleAddApp = () => {\n    const params = new URLSearchParams(searchParams);\n    params.set('action', 'create');\n    replace(`${pathname}?${params.toString()}`);\n  };\n\n  return (\n    <header className=\"sticky top-0 md:top-0 z-30 flex items-center justify-between gap-4 h-14 px-6 border-b border-neutral-200 dark:border-neutral-800 bg-gray-50/80 dark:bg-neutral-950/80 backdrop-blur-md\">\n      <div className=\"flex-1 min-w-0\">\n        <h1 className=\"text-sm md:text-base font-bold text-neutral-900 dark:text-white tracking-tight truncate\">\n          {getTitle()}\n        </h1>\n      </div>\n\n      <div className=\"flex items-center gap-3 shrink-0\">\n        {pathname === '/' && (\n          <button\n            onClick={handleAddApp}\n            className=\"flex items-center gap-2 px-3 py-1.5 bg-[#FFA500] hover:bg-[#FFA500]/90 text-white rounded-lg text-xs font-bold transition-all shadow-sm shadow-orange-500/20 active:scale-95 whitespace-nowrap\"\n          >\n            <Plus size={14} />\n            <span className=\"hidden sm:inline\">Create Application</span>\n            <span className=\"sm:hidden\">Create</span>\n          </button>\n        )}\n\n        <div className=\"relative w-40 md:w-64\">\n          <div className=\"absolute inset-y-0 left-0 pl-2.5 flex items-center pointer-events-none text-neutral-400\">\n            <Search size={14} />\n          </div>\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            className=\"block w-full pl-8 pr-3 py-1.5 border border-neutral-200 dark:border-neutral-800 rounded-lg leading-5 bg-white dark:bg-neutral-900 text-neutral-900 dark:text-white placeholder-neutral-400 focus:outline-none focus:ring-1 focus:ring-[#FFA500] text-xs transition-all shadow-sm\"\n            onChange={(e) => handleSearch(e.target.value)}\n            defaultValue={searchParams.get('search')?.toString()}\n          />\n        </div>\n      </div>\n    </header>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,eAAe,IAAA,iMAAe;IACpC,MAAM,WAAW,IAAA,6LAAW;IAC5B,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,2LAAS;IAE7B,MAAM,WAAW;QACf,IAAI,aAAa,KAAK,OAAO;QAC7B,IAAI,aAAa,aAAa,OAAO;QACrC,IAAI,aAAa,UAAU,OAAO;QAClC,OAAO;IACT;IAEA,MAAM,eAAe,CAAC;QACpB,MAAM,SAAS,IAAI,gBAAgB;QACnC,IAAI,MAAM;YACR,OAAO,GAAG,CAAC,UAAU;QACvB,OAAO;YACL,OAAO,MAAM,CAAC;QAChB;QACA,QAAQ,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAC5C;IAEA,MAAM,eAAe;QACnB,MAAM,SAAS,IAAI,gBAAgB;QACnC,OAAO,GAAG,CAAC,UAAU;QACrB,QAAQ,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAC5C;IAEA,qBACE,sOAAC;QAAO,WAAU;;0BAChB,sOAAC;gBAAI,WAAU;0BACb,cAAA,sOAAC;oBAAG,WAAU;8BACX;;;;;;;;;;;0BAIL,sOAAC;gBAAI,WAAU;;oBACZ,aAAa,qBACZ,sOAAC;wBACC,SAAS;wBACT,WAAU;;0CAEV,sOAAC,sPAAI;gCAAC,MAAM;;;;;;0CACZ,sOAAC;gCAAK,WAAU;0CAAmB;;;;;;0CACnC,sOAAC;gCAAK,WAAU;0CAAY;;;;;;;;;;;;kCAIhC,sOAAC;wBAAI,WAAU;;0CACb,sOAAC;gCAAI,WAAU;0CACb,cAAA,sOAAC,4PAAM;oCAAC,MAAM;;;;;;;;;;;0CAEhB,sOAAC;gCACC,MAAK;gCACL,aAAY;gCACZ,WAAU;gCACV,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;gCAC5C,cAAc,aAAa,GAAG,CAAC,WAAW;;;;;;;;;;;;;;;;;;;;;;;;AAMtD;GA/DwB;;QACD,iMAAe;QACnB,6LAAW;QACR,2LAAS;;;KAHP"}},
    {"offset": {"line": 693, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/app/components/DashboardLayout.js"],"sourcesContent":["'use client';\n\nimport Navigation from './Navigation';\nimport TopBar from './TopBar';\nimport { useSidebar } from '../providers/SidebarProvider';\n\nexport default function DashboardLayout({ children }) {\n  // Use global state from context to prevent flicker on navigation\n  const { isCollapsed, toggleCollapse } = useSidebar();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-neutral-950 transition-colors\">\n      <Navigation \n        isCollapsed={isCollapsed} \n        toggleCollapse={toggleCollapse}\n      />\n\n      {/* Main Content Wrapper with Dynamic Margin */}\n      <main \n        className={`transition-all duration-300 ease-in-out min-h-screen text-neutral-900 dark:text-white ${\n            isCollapsed ? 'md:ml-20' : 'md:ml-60'\n        }`}\n      >\n        <TopBar />\n        <div className=\"p-8\">\n          {children}\n        </div>\n      </main>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;;;AAJA;;;;AAMe,SAAS,gBAAgB,EAAE,QAAQ,EAAE;;IAClD,iEAAiE;IACjE,MAAM,EAAE,WAAW,EAAE,cAAc,EAAE,GAAG,IAAA,oMAAU;IAElD,qBACE,sOAAC;QAAI,WAAU;;0BACb,sOAAC,6LAAU;gBACT,aAAa;gBACb,gBAAgB;;;;;;0BAIlB,sOAAC;gBACC,WAAW,CAAC,sFAAsF,EAC9F,cAAc,aAAa,YAC7B;;kCAEF,sOAAC,yLAAM;;;;;kCACP,sOAAC;wBAAI,WAAU;kCACZ;;;;;;;;;;;;;;;;;;AAKX;GAxBwB;;QAEkB,oMAAU;;;KAF5B"}},
    {"offset": {"line": 766, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/app/manifest/components/ManifestForm.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  FilePlus,\n  Server,\n  Database,\n  Loader2,\n  CheckCircle,\n  AlertCircle,\n  Box,\n  Plus,\n  Trash2,\n  Lock,\n  Network,\n  Upload,\n  FileText,\n  X,\n  Key,\n  ChevronRight,\n  ChevronLeft,\n  LayoutGrid,\n  Globe,\n  Copy,\n  Info,\n  GitBranch,\n  FlaskConical\n} from \"lucide-react\";\nimport { SiPostgresql, SiMariadb } from \"react-icons/si\";\nimport { motion } from \"framer-motion\";\n\nconst steps = [\"Identity\", \"Database\", \"Access\", \"Configuration\"];\n\nexport default function ManifestForm({ onClose, onSuccess }) {\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState({ text: '', type: '' });\n  const [step, setStep] = useState(1);\n  const [nextId, setNextId] = useState(\"001\");\n\n  // Drag & Drop States\n  const [isDraggingApp, setIsDraggingApp] = useState(false);\n  const [appFileName, setAppFileName] = useState('');\n  const [isDraggingDb, setIsDraggingDb] = useState(false);\n  const [dbFileName, setDbFileName] = useState('');\n\n  // UI State for Secret Tabs\n  const [secretTab, setSecretTab] = useState('prod'); // 'prod' | 'test'\n\n  const [form, setForm] = useState({\n    appName: \"\",\n    appId: \"001\",\n    imageRepo: \"\",\n    imageTag: \"\",\n    servicePort: 80,\n    targetPort: 3000,\n    gitRepoUrl: \"\",\n    appArchitecture: \"monolith\",\n    dbType: \"none\",\n    storageClass: \"longhorn\",\n    \n    // Secrets (Split Prod & Test)\n    appSecrets: [],\n    appSecretsTest: [],\n    \n    dbSecrets: [],\n    dbSecretsTest: [],\n\n    ingressEnabled: false,\n    ingressHost: \"\",\n    tlsEnabled: false,\n    migrationEnabled: false,\n    migrationCommand: \"php artisan migrate --force\"\n  });\n\n  useEffect(() => {\n    fetch(\"/api/manifest/next-id\")\n      .then(res => res.json())\n      .then(data => {\n        if (data.nextId) {\n          setNextId(data.nextId);\n          setForm(prev => ({ ...prev, appId: data.nextId }));\n        }\n      })\n      .catch(err => console.error(\"Failed to fetch next ID:\", err));\n  }, []);\n\n  const parseEnvFile = (content) => {\n    const lines = content.split('\\n');\n    const parsed = [];\n    lines.forEach((line) => {\n      const trimmed = line.trim();\n      if (!trimmed || trimmed.startsWith('#')) return;\n      const match = trimmed.match(/^([^=]+)=(.*)$/);\n      if (match) {\n        const key = match[1].trim();\n        let value = match[2].trim();\n        if ((value.startsWith('\"') && value.endsWith('\"')) || (value.startsWith(\"'\" ) && value.endsWith(\"'\"))) value = value.slice(1, -1);\n        parsed.push({ key, value });\n      }\n    });\n    return parsed;\n  };\n\n  const handleAppFile = (file) => {\n    if (!file.name.endsWith('.env') && !file.name.startsWith('.env')) { setMessage({ text: 'Please upload a valid .env file', type: 'error' }); return; }\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const parsed = parseEnvFile(e.target.result);\n        if (parsed.length === 0) { setMessage({ text: 'File is empty or invalid', type: 'error' }); return; }\n        // Populate BOTH Prod and Test\n        setForm(prev => ({\n            ...prev, \n            appSecrets: parsed,\n            appSecretsTest: JSON.parse(JSON.stringify(parsed)) // Deep copy\n        }));\n        setAppFileName(file.name);\n        setMessage({ text: `Loaded ${parsed.length} variables into Prod & Test config`, type: 'success' });\n      } catch (err) { setMessage({ text: 'Failed to read file', type: 'error' }); }\n    };\n    reader.readAsText(file);\n  };\n\n  const handleDbFile = (file) => {\n    if (!file.name.endsWith('.env') && !file.name.startsWith('.env')) { setMessage({ text: 'Please upload a valid .env file', type: 'error' }); return; }\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      try {\n        const parsed = parseEnvFile(e.target.result);\n        if (parsed.length === 0) { setMessage({ text: 'File is empty or invalid', type: 'error' }); return; }\n        setForm(prev => ({\n            ...prev, \n            dbSecrets: parsed,\n            dbSecretsTest: JSON.parse(JSON.stringify(parsed))\n        }));\n        setDbFileName(file.name);\n        setMessage({ text: `Loaded ${parsed.length} DB variables into Prod & Test config`, type: 'success' });\n      } catch (err) { setMessage({ text: 'Failed to read file', type: 'error' }); }\n    };\n    reader.readAsText(file);\n  };\n\n  const updateSecret = (type, env, index, field, value) => {\n    const key = `${type}Secrets${env === 'test' ? 'Test' : ''}`;\n    const updated = [...form[key]];\n    updated[index][field] = value;\n    \n    // Auto-sync Prod DB secrets to Test DB secrets for convenience\n    if (type === 'db' && env !== 'test') {\n      const testKey = 'dbSecretsTest';\n      const updatedTest = [...form[testKey]];\n      if (updatedTest[index]) {\n        updatedTest[index][field] = value;\n        setForm(prev => ({ ...prev, [key]: updated, [testKey]: updatedTest }));\n        return;\n      }\n    }\n\n    setForm(prev => ({ ...prev, [key]: updated }));\n  };\n\n  const addSecret = (type, env) => {\n    const key = `${type}Secrets${env === 'test' ? 'Test' : ''}`;\n    setForm(prev => ({ ...prev, [key]: [...prev[key], { key: \"\", value: \"\" }] }));\n  };\n\n  const handleDbTypeChange = (type) => {\n    let prod = [];\n    let test = [];\n    \n    if (type === 'postgres') {\n      const defaults = [\n        { key: \"POSTGRESQL_DATABASE\", value: \"\" },\n        { key: \"POSTGRESQL_USERNAME\", value: \"\" },\n        { key: \"POSTGRESQL_PASSWORD\", value: \"\" }\n      ];\n      prod = JSON.parse(JSON.stringify(defaults));\n      test = JSON.parse(JSON.stringify(defaults));\n    } else if (type === 'mariadb') {\n      const defaults = [\n        { key: \"MARIADB_DATABASE\", value: \"\" },\n        { key: \"MARIADB_USER\", value: \"\" },\n        { key: \"MARIADB_PASSWORD\", value: \"\" },\n        { key: \"MARIADB_ROOT_PASSWORD\", value: \"\" }\n      ];\n      prod = JSON.parse(JSON.stringify(defaults));\n      test = JSON.parse(JSON.stringify(defaults));\n    }\n    setDbFileName('');\n    setForm(prev => ({ ...prev, dbType: type, dbSecrets: prod, dbSecretsTest: test }));\n  };\n\n  const copyToClipboard = (text) => {\n    navigator.clipboard.writeText(text);\n    setMessage({ text: 'Copied!', type: 'success' });\n    setTimeout(() => setMessage({ text: '', type: '' }), 2000);\n  };\n\n  const validateStep = (currentStep) => {\n    if (currentStep === 1) {\n      if (!form.appName || !form.imageRepo || !form.imageTag) {\n        setMessage({ text: 'Required: Name, Image, Tag', type: 'error' });\n        return false;\n      }\n    }\n    if (currentStep === 3) {\n      if (!form.servicePort || !form.targetPort) {\n        setMessage({ text: 'Required: Ports', type: 'error' });\n        return false;\n      }\n    }\n    setMessage({ text: '', type: '' });\n    return true;\n  };\n\n  const nextStep = () => { if (validateStep(step)) setStep(prev => Math.min(prev + 1, 4)); };\n  const prevStep = () => setStep(prev => Math.max(prev - 1, 1));\n\n  const handleDeploy = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/manifest/generate\", {\n        method: \"POST\",\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(form)\n      });\n      const result = await res.json();\n      if (res.ok) { onSuccess(result.message); } else { throw new Error(result.error); }\n    } catch (err) { setMessage({ text: err.message, type: 'error' }); } finally { setLoading(false); }\n  };\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault();\n    if (step < 4) {\n      nextStep();\n    }\n  };\n\n  // --- STYLES (Replaced @apply with explicit classes) ---\n  const labelClass = \"block text-xs font-bold text-neutral-500 uppercase mb-2\";\n  const inputClass = \"w-full p-3 text-sm border border-neutral-300 dark:border-neutral-800 rounded-lg dark:bg-neutral-950 focus:border-[#FFA500] focus:ring-1 focus:ring-[#FFA500] outline-none transition-all placeholder:text-neutral-400\";\n  const btnPrimaryClass = \"flex items-center gap-2 px-8 py-2.5 rounded-lg text-sm font-bold bg-neutral-900 text-white hover:bg-neutral-800 dark:bg-white dark:text-neutral-900 shadow-md transition-all\";\n  const btnSecondaryClass = \"flex items-center gap-2 px-6 py-2.5 rounded-lg text-sm font-bold text-neutral-600 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-neutral-800 disabled:opacity-30 transition-all\";\n\n  // --- RENDERERS ---\n\n  const renderIdentityStep = () => (\n    <div className=\"space-y-4 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Box size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500\">Identity</h2></div>\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"md:col-span-2\"><label className={labelClass}>Application Name</label><input required className={inputClass} placeholder=\"e.g. inventory-app\" value={form.appName} onChange={e => setForm({ ...form, appName: e.target.value.toLowerCase().replace(/\\s+/g, '-') })} /></div>\n        <div className=\"md:col-span-2\"><label className={labelClass}>Docker Image</label><input required className={inputClass} placeholder=\"devopsnaratel/app\" value={form.imageRepo} onChange={e => setForm({ ...form, imageRepo: e.target.value })} /></div>\n        <div className=\"md:col-span-2\"><label className={labelClass}>Image Tag</label><input required className={inputClass} placeholder=\"v1.0.0\" value={form.imageTag} onChange={e => setForm({ ...form, imageTag: e.target.value })} /></div>\n        <div className=\"md:col-span-2\"><label className={labelClass}>Git Repo URL</label><input className={inputClass} placeholder=\"https://github.com/...\" value={form.gitRepoUrl} onChange={e => setForm({ ...form, gitRepoUrl: e.target.value })} /></div>\n      </div>\n    </div>\n  );\n\n  const renderDatabaseStep = () => (\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Database size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500\">Database</h2></div>\n      <div className=\"grid grid-cols-3 gap-4\">\n        {['none', 'postgres', 'mariadb'].map(type => (\n          <div key={type} onClick={() => handleDbTypeChange(type)} className={`cursor-pointer rounded-xl border-2 p-4 flex flex-col items-center gap-3 ${form.dbType === type ? 'border-[#FFA500] bg-[#FFA500]/5' : 'border-neutral-200 dark:border-neutral-800'}`}>\n            {type === 'none' && <X size={32} className=\"text-neutral-400\" />}\n            {type === 'postgres' && <SiPostgresql size={32} className=\"text-blue-500\" />}\n            {type === 'mariadb' && <SiMariadb size={32} className=\"text-orange-600\" />}\n            <span className=\"capitalize font-bold text-sm\">{type}</span>\n          </div>\n        ))}\n      </div>\n      {form.dbType !== 'none' && (\n        <div><label className={labelClass}>Storage Class</label><input className={inputClass} value={form.storageClass} onChange={e => setForm({...form, storageClass: e.target.value})} /></div>\n      )}\n    </div>\n  );\n\n  const renderAccessStep = () => (\n    <div className=\"space-y-6 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Network size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500\">Access</h2></div>\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div><label className={labelClass}>Service Port</label><input type=\"number\" className={inputClass} value={form.servicePort} onChange={e => setForm({...form, servicePort: parseInt(e.target.value)})} /></div>\n        <div><label className={labelClass}>Target Port</label><input type=\"number\" className={inputClass} value={form.targetPort} onChange={e => setForm({...form, targetPort: parseInt(e.target.value)})} /></div>\n      </div>\n      <div className=\"p-4 border rounded-xl bg-gray-50 dark:bg-neutral-900/50\">\n        <label className=\"flex items-center gap-3 cursor-pointer\"><input type=\"checkbox\" checked={form.ingressEnabled} onChange={e => setForm({...form, ingressEnabled: e.target.checked})} className=\"accent-[#FFA500] w-5 h-5\" /><span className=\"font-bold text-sm\">Enable Ingress</span></label>\n        {form.ingressEnabled && <div className=\"mt-4\"><label className={labelClass}>Hostname</label><input className={inputClass} placeholder=\"app.naratel.id\" value={form.ingressHost} onChange={e => setForm({...form, ingressHost: e.target.value})} /></div>}\n      </div>\n    </div>\n  );\n\n  const renderSecretInputs = (type, env) => {\n    const list = form[`${type}Secrets${env === 'test' ? 'Test' : ''}`];\n    return (\n      <div className=\"space-y-2 mt-3 max-h-[200px] overflow-y-auto pr-2\">\n        {list.map((s, idx) => (\n          <div key={idx} className=\"flex gap-2 items-center\">\n            {type === 'db' ? (\n              <div className=\"flex-1 p-2 text-[10px] font-mono font-bold text-neutral-500 bg-neutral-100 dark:bg-neutral-800/50 rounded border border-transparent truncate\">\n                {s.key}\n              </div>\n            ) : (\n              <input \n                className=\"flex-1 p-2 text-xs border rounded dark:bg-neutral-950 dark:border-neutral-800 font-mono\" \n                value={s.key} \n                onChange={e => updateSecret(type, env, idx, 'key', e.target.value)} \n                placeholder=\"KEY\" \n              />\n            )}\n            <input className=\"flex-1 p-2 text-xs border rounded dark:bg-neutral-950 dark:border-neutral-800\" value={s.value} onChange={e => updateSecret(type, env, idx, 'value', e.target.value)} placeholder=\"VALUE\" />\n          </div>\n        ))}\n        {list.length === 0 && <p className=\"text-xs text-neutral-400 italic\">No secrets.</p>}\n        {type === 'app' && (\n          <button type=\"button\" onClick={() => addSecret(type, env)} className=\"text-xs font-bold text-[#FFA500] flex items-center gap-1 mt-2\"><Plus size={12} /> Add Variable</button>\n        )}\n      </div>\n    );\n  };\n\n  const renderConfigStep = () => (\n    <div className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300\">\n      <div className=\"flex items-center gap-2 mb-4 text-[#FFA500]\"><Server size={24} /><h2 className=\"font-bold uppercase text-sm tracking-wider text-neutral-500\">Configuration & Secrets</h2></div>\n\n      {form.dbType !== 'none' && (\n        <div className=\"bg-neutral-50 dark:bg-neutral-900/50 p-4 rounded-xl border border-neutral-200 dark:border-neutral-800 space-y-4 mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h4 className=\"font-bold text-sm text-neutral-800 dark:text-neutral-200 flex items-center gap-2\"><Database size={16} /> Internal Database DNS</h4>\n              <p className=\"text-xs text-neutral-500 mt-1\">Connection strings for your application environments.</p>\n            </div>\n          </div>\n\n          <div className=\"space-y-3\">\n            <div>\n              <p className=\"text-[10px] font-bold text-neutral-400 uppercase mb-1\">Production DNS</p>\n              <div className=\"flex items-center gap-2 bg-neutral-900 text-neutral-200 p-2 rounded-lg border border-neutral-700 font-mono text-xs\">\n                <span className=\"text-blue-400\">PROD</span>\n                <code className=\"flex-1 break-all\">\n                  svc-db-{form.appName}-{form.appId}.{form.appId}-db-{form.appName}-prod.svc.cluster.local\n                </code>\n                <button type=\"button\" onClick={() => copyToClipboard(`svc-db-${form.appName}-${form.appId}.${form.appId}-db-${form.appName}-prod.svc.cluster.local`)} className=\"p-1.5 hover:bg-white/10 rounded-md transition-colors text-neutral-400 hover:text-white shrink-0\" title=\"Copy Prod DNS\"><Copy size={14} /></button>\n              </div>\n            </div>\n\n            <div>\n              <p className=\"text-[10px] font-bold text-neutral-400 uppercase mb-1\">Testing DNS</p>\n              <div className=\"flex items-center gap-2 bg-neutral-900 text-neutral-200 p-2 rounded-lg border border-neutral-700 font-mono text-xs\">\n                <span className=\"text-orange-400\">TEST</span>\n                <code className=\"flex-1 break-all\">\n                  svc-db-{form.appName}-{form.appId}.{form.appId}-db-{form.appName}-testing.svc.cluster.local\n                </code>\n                <button type=\"button\" onClick={() => copyToClipboard(`svc-db-${form.appName}-${form.appId}.${form.appId}-db-${form.appName}-testing.svc.cluster.local`)} className=\"p-1.5 hover:bg-white/10 rounded-md transition-colors text-neutral-400 hover:text-white shrink-0\" title=\"Copy Test DNS\"><Copy size={14} /></button>\n              </div>\n            </div>\n          </div>\n          \n          <p className=\"text-[10px] text-neutral-500 italic\">Use these hostnames to connect to your database from your application secrets.</p>\n        </div>\n      )}\n\n      {/* Migration Toggle */}\n      <div className=\"bg-neutral-50 dark:bg-neutral-900/50 p-4 rounded-xl border border-neutral-200 dark:border-neutral-800 flex items-center justify-between\">\n        <div><h4 className=\"font-bold text-sm\">Auto-Migration</h4><p className=\"text-xs text-neutral-500\">Run DB migration on deploy</p></div>\n        <input type=\"checkbox\" checked={form.migrationEnabled} onChange={e => setForm({...form, migrationEnabled: e.target.checked})} className=\"w-5 h-5 accent-[#FFA500]\" />\n      </div>\n      {form.migrationEnabled && <input className={inputClass + \" mt-2\"} value={form.migrationCommand} onChange={e => setForm({...form, migrationCommand: e.target.value})} />}\n\n      {/* Secrets Management Tabs */}\n      <div className=\"border-t pt-6 border-neutral-200 dark:border-neutral-800\">\n        <div className=\"flex gap-4 border-b border-neutral-200 dark:border-neutral-800 mb-4\">\n          <button type=\"button\" onClick={() => setSecretTab('prod')} className={`pb-2 text-sm font-bold border-b-2 transition-colors ${secretTab === 'prod' ? 'border-[#FFA500] text-[#FFA500]' : 'border-transparent text-neutral-500'}`}>Production Secrets</button>\n          <button type=\"button\" onClick={() => setSecretTab('test')} className={`pb-2 text-sm font-bold border-b-2 transition-colors flex items-center gap-2 ${secretTab === 'test' ? 'border-orange-400 text-orange-400' : 'border-transparent text-neutral-500'}`}><FlaskConical size={14}/> Testing Secrets</button>\n        </div>\n\n        <div className=\"bg-neutral-50 dark:bg-neutral-900/30 p-4 rounded-xl border border-neutral-200 dark:border-neutral-800\">\n          <div className=\"flex justify-between items-center mb-4\">\n            <h3 className=\"font-bold text-sm\">{secretTab === 'prod' ? 'Production Environment' : 'Testing Environment (Standby)'}</h3>\n            {secretTab === 'prod' && !appFileName && (\n               <div className=\"relative cursor-pointer\">\n                 <input type=\"file\" accept=\".env\" onChange={(e) => { if (e.target.files.length) handleAppFile(e.target.files[0]); e.target.value = null; }} className=\"absolute inset-0 opacity-0\" />\n                 <span className=\"text-xs text-[#FFA500] font-bold flex items-center gap-1\"><Upload size={12} /> Upload .env (Fills Both)</span>\n               </div>\n            )}\n          </div>\n\n          <div className=\"mb-6\">\n            <h4 className=\"text-xs font-bold text-neutral-500 uppercase mb-2\">Application Variables</h4>\n            {renderSecretInputs('app', secretTab)}\n          </div>\n\n          {form.dbType !== 'none' && (\n            <div>\n              <h4 className=\"text-xs font-bold text-neutral-500 uppercase mb-2\">Database Credentials</h4>\n              {renderSecretInputs('db', secretTab)}\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"bg-white dark:bg-neutral-900 w-full rounded-xl border border-neutral-200 dark:border-neutral-800 shadow-sm flex flex-col relative overflow-hidden h-[85vh]\">\n      <div className=\"bg-white dark:bg-neutral-900 px-6 py-4 border-b border-neutral-200 dark:border-neutral-800 flex justify-between items-center z-10 sticky top-0\"><div className=\"flex items-center gap-4\"><button onClick={onClose} className=\"flex items-center gap-2 text-neutral-500 hover:text-neutral-800 dark:hover:text-neutral-200 transition-colors\"><ChevronLeft size={20} /></button><h2 className=\"text-lg font-bold flex items-center gap-2\"><FilePlus className=\"text-[#FFA500]\" size={20} /> New App Wizard</h2></div></div>\n      <div className=\"px-6 py-4 border-b border-neutral-200 dark:border-neutral-800 bg-white dark:bg-neutral-900\">\n        <div className=\"flex items-center justify-between mb-2\">\n          <span className=\"text-xs font-bold text-neutral-500 dark:text-neutral-400 uppercase tracking-wider\">Step {step} of 4: <span className=\"text-neutral-900 dark:text-white ml-1\">{steps[step - 1]}</span></span>\n          <span className=\"text-xs font-mono font-bold text-[#FFA500]\">{Math.round((step / 4) * 100)}%</span>\n        </div>\n        <div className=\"h-1.5 w-full bg-neutral-100 dark:bg-neutral-800 rounded-full overflow-hidden\"><motion.div className=\"h-full bg-[#FFA500]\" initial={{ width: 0 }} animate={{ width: `${(step / 4) * 100}%` }} /></div>\n      </div>\n      <div className=\"flex-1 overflow-y-auto p-8 relative\">\n        {message.text && <div className={`mb-6 p-4 rounded-lg border text-sm flex items-center gap-2 ${message.type === 'error' ? 'bg-red-50 border-red-200 text-red-600' : 'bg-green-50 border-green-200 text-green-600'}`}>{message.type === 'error' ? <AlertCircle size={16}/> : <CheckCircle size={16}/>}{message.text}</div>}\n        <form id=\"wizard-form\" onSubmit={handleFormSubmit}>\n          {step === 1 && renderIdentityStep()}\n          {step === 2 && renderDatabaseStep()}\n          {step === 3 && renderAccessStep()}\n          {step === 4 && renderConfigStep()}\n        </form>\n      </div>\n      <div className=\"p-6 bg-white dark:bg-neutral-900 border-t border-neutral-200 dark:border-neutral-800 flex justify-between items-center z-10\">\n        <button type=\"button\" onClick={prevStep} disabled={step === 1} className={btnSecondaryClass}>Back</button>\n        {step < 4 ? <button type=\"button\" onClick={nextStep} className={btnPrimaryClass}>Next Step</button> : <button type=\"button\" onClick={handleDeploy} disabled={loading} className={`${btnPrimaryClass} bg-[#FFA500] hover:bg-orange-600`}>{loading ? <Loader2 className=\"animate-spin\" /> : 'Deploy App'}</button>}\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2317, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/app/manifest/components/AppList.js"],"sourcesContent":["\"use client\";\n\nimport {\n  GitBranch,\n  Database,\n  Globe,\n  ChevronRight,\n  Loader2,\n  Box,\n  ExternalLink,\n  Activity,\n  TestTube,\n  FlaskConical\n} from \"lucide-react\";\nimport { useRouter } from \"next/navigation\";\nimport useSWR from 'swr';\n\nconst fetcher = (url) => fetch(url).then((res) => res.json());\n\nfunction StatusSegment({ appName }) {\n  const { data, isLoading } = useSWR(\n    appName ? `/api/manifest/argo-status?appName=${appName}` : null,\n    fetcher,\n    { refreshInterval: 10000, dedupingInterval: 5000 }\n  );\n\n  if (isLoading) {\n    return <div className=\"flex-1 bg-neutral-200 dark:bg-neutral-800 animate-pulse\" />;\n  }\n\n  if (!data || data.status === 'NotFound' || data.health === 'MissingConfig') {\n    return <div className=\"flex-1 bg-neutral-300 dark:bg-neutral-700\" title={`${appName}: Pending/Missing`} />;\n  }\n\n  const { health, sync, operation } = data;\n  const isHealthy = health === 'Healthy';\n  const isSynced = sync === 'Synced';\n  const isProgressing = health === 'Progressing' || operation === 'Running';\n  const isDegraded = health === 'Degraded';\n\n  let colorClass = \"bg-neutral-400 dark:bg-neutral-600\";\n\n  if (isDegraded) {\n    colorClass = \"bg-red-500\";\n  } else if (isProgressing) {\n    colorClass = \"bg-amber-500\";\n  } else if (!isSynced) {\n    colorClass = \"bg-yellow-500\";\n  } else if (isHealthy && isSynced) {\n    colorClass = \"bg-emerald-500\";\n  }\n\n  return (\n    <div\n      className={`flex-1 ${colorClass} transition-colors duration-500`}\n      title={`${appName}: ${health} / ${sync}`}\n    />\n  );\n}\n\nfunction StatusBadge({ appName, label = \"Prod\" }) {\n  const { data, isLoading } = useSWR(\n    appName ? `/api/manifest/argo-status?appName=${appName}` : null,\n    fetcher,\n    { refreshInterval: 10000, dedupingInterval: 5000 }\n  );\n\n  if (isLoading) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-neutral-400 dark:text-neutral-500\">\n        <Loader2 size={10} className=\"animate-spin\" />\n      </span>\n    );\n  }\n\n  if (!data || data.status === 'NotFound' || data.health === 'MissingConfig') {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-neutral-400 dark:text-neutral-500 bg-neutral-100 dark:bg-neutral-800\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-neutral-400 dark:bg-neutral-600\" />\n        {label}: Pending\n      </span>\n    );\n  }\n\n  const { health, sync, operation } = data;\n  const isHealthy = health === 'Healthy';\n  const isSynced = sync === 'Synced';\n  const isProgressing = health === 'Progressing' || operation === 'Running';\n  const isDegraded = health === 'Degraded';\n\n  if (isDegraded) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse\" />\n        {label}: Degraded\n      </span>\n    );\n  }\n\n  if (isProgressing) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-amber-600 dark:text-amber-400 bg-amber-50 dark:bg-amber-900/20\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-amber-500 animate-pulse\" />\n        {label}: Syncing\n      </span>\n    );\n  }\n\n  if (!isSynced) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-yellow-500\" />\n        {label}: OutOfSync\n      </span>\n    );\n  }\n\n  if (isHealthy && isSynced) {\n    return (\n      <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/20\">\n        <span className=\"w-1.5 h-1.5 rounded-full bg-emerald-500\" />\n        {label}: Healthy\n      </span>\n    );\n  }\n\n  return (\n    <span className=\"inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-medium text-neutral-400 bg-neutral-100 dark:bg-neutral-800\">\n      {label}: Unknown\n    </span>\n  );\n}\n\nfunction TestingIndicator({ appId, appName }) {\n  const testArgoName = `${appId}-${appName}-testing`;\n  const { data } = useSWR(\n    `/api/manifest/argo-status?appName=${testArgoName}`,\n    fetcher,\n    { refreshInterval: 10000, dedupingInterval: 5000 }\n  );\n\n  const exists = data?.health && data?.health !== 'MissingConfig' && data?.status !== 'NotFound';\n\n  if (!exists) return null;\n\n  return (\n    <div className=\"flex items-center gap-1.5 px-2 py-0.5 rounded-md text-[10px] font-bold text-white bg-gradient-to-r from-orange-500 to-amber-500 animate-in fade-in zoom-in duration-300 ring-1 ring-white/10\">\n      <FlaskConical size={11} className=\"shrink-0\" />\n      TESTING ACTIVE\n    </div>\n  );\n}\n\nfunction AppCard({ app }) {\n  const router = useRouter();\n\n  // Correct Naming Convention: ID-NAME-prod\n  const prodName = `${app.id}-${app.name}-prod`;\n  const dbProdName = `${app.id}-db-${app.name}-prod`;\n\n  const deployments = [prodName];\n  if (app.db && app.db !== 'none') {\n    deployments.push(dbProdName);\n  }\n\n  return (\n    <div\n      onClick={() => router.push(`/manifest/${app.name}`)}\n      className=\"group bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 hover:border-neutral-300 dark:hover:border-neutral-700 shadow-sm hover:shadow-md transition-all duration-200 cursor-pointer flex flex-col h-full overflow-hidden\"\n    >\n      <div className=\"p-5 flex flex-col h-full\">\n        {/* Top Row: ID & Indicators */}\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center gap-2\">\n            <span className=\"text-[10px] font-mono text-neutral-400 dark:text-neutral-500 bg-neutral-100 dark:bg-neutral-800 px-2 py-0.5 rounded\">\n              #{app.id}\n            </span>\n            <StatusBadge appName={prodName} label=\"Prod\" />\n          </div>\n          \n          <div className=\"flex items-center gap-2\">\n            {/* Dynamic Testing Indicator moved to right */}\n            <TestingIndicator appId={app.id} appName={app.name} />\n          </div>\n        </div>\n\n        {/* App Name */}\n        <div className=\"flex items-start gap-3 mb-4\">\n          <div className=\"p-2.5 bg-neutral-100 dark:bg-neutral-800 rounded-lg text-neutral-500 dark:text-neutral-400 group-hover:text-neutral-700 dark:group-hover:text-neutral-300 transition-colors\">\n            <Box size={18} strokeWidth={1.5} />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            <h3 className=\"text-base font-semibold text-neutral-900 dark:text-white leading-tight truncate flex items-center gap-2\">\n              {app.name}\n              <ChevronRight size={14} className=\"text-neutral-300 opacity-0 group-hover:opacity-100 transition-opacity -ml-1 group-hover:ml-0\" />\n            </h3>\n            <p className=\"text-[11px] text-neutral-400 dark:text-neutral-500 font-mono mt-0.5 truncate\">\n              {app.image || 'No image'}\n            </p>\n          </div>\n        </div>\n\n        {/* Info Row */}\n        <div className=\"flex items-center gap-3 mt-auto pt-3 border-t border-neutral-100 dark:border-neutral-800\">\n          {/* Domain */}\n          <div className=\"flex items-center gap-1.5 text-xs text-neutral-500 dark:text-neutral-400 min-w-0 flex-1\">\n            <Globe size={12} className=\"shrink-0 text-neutral-400\" />\n            {app.liveIngressProd ? (\n              <a\n                href={`http://${app.liveIngressProd}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                onClick={(e) => e.stopPropagation()}\n                className=\"truncate hover:text-neutral-700 dark:hover:text-neutral-300 hover:underline\"\n              >\n                {app.liveIngressProd}\n              </a>\n            ) : (\n              <span className=\"text-neutral-400 dark:text-neutral-500\">Internal</span>\n            )}\n          </div>\n\n          {/* Database */}\n          <div className=\"flex items-center gap-1.5 text-xs text-neutral-500 dark:text-neutral-400 shrink-0\">\n            <Database size={12} className=\"text-neutral-400\" />\n            <span className=\"uppercase text-[10px] font-medium\">\n              {app.db === 'none' ? '' : app.db}\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Status Bar (Prod only for clean look) */}\n      <div className=\"h-1 w-full flex mt-auto\">\n        {deployments.map(depName => (\n          <StatusSegment key={depName} appName={depName} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default function AppList({ apps }) {\n  if (apps.length === 0) {\n    return (\n      <div className=\"col-span-full py-20 text-center flex flex-col items-center justify-center text-neutral-500 border border-dashed border-neutral-200 dark:border-neutral-800 rounded-xl bg-neutral-50 dark:bg-neutral-900/50\">\n        <div className=\"p-4 bg-neutral-100 dark:bg-neutral-800 rounded-xl mb-4\">\n          <Box size={32} strokeWidth={1.5} className=\"text-neutral-400\" />\n        </div>\n        <p className=\"font-medium text-neutral-600 dark:text-neutral-400\">No applications found</p>\n        <p className=\"text-sm max-w-xs mt-2 text-neutral-400\">\n          Create your first application using the button above.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4\">\n      {apps.map((app) => (\n        <AppCard key={app.id} app={app} />\n      ))}\n    </div>\n  );\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2878, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/hooks/useRegistry.js"],"sourcesContent":["\"use client\";\n\nimport useSWR from 'swr';\nimport { fetcher } from '@/lib/fetcher';\n\n/**\n * Custom hook to fetch and cache the application registry\n * This data is shared across all pages that need registry info\n */\nexport function useRegistry() {\n    const { data, error, isLoading, mutate } = useSWR(\n        '/api/manifest/next-id',\n        fetcher,\n        {\n            revalidateOnFocus: false,      // Don't refetch when tab regains focus\n            revalidateOnReconnect: true,   // Refetch when network reconnects\n            dedupingInterval: 5000,        // Dedupe requests within 5 seconds\n            keepPreviousData: true,        // Keep showing old data while fetching new\n        }\n    );\n\n    // Sort apps by ID descending (newest first)\n    const apps = data?.registry\n        ? [...data.registry].sort((a, b) => parseInt(b.id) - parseInt(a.id))\n        : [];\n\n    return {\n        apps,\n        nextId: data?.nextId,\n        isLoading,\n        isError: error,\n        mutate, // Expose mutate for manual revalidation after create/delete\n    };\n}\n\n/**\n * Get a single app from the registry by name\n */\nexport function useApp(appName) {\n    const { apps, isLoading, isError, mutate } = useRegistry();\n\n    const decodedName = decodeURIComponent(appName || '');\n    const app = apps.find(a => a.name.toLowerCase() === decodedName.toLowerCase());\n\n    return {\n        app,\n        isLoading,\n        isError,\n        mutate,\n    };\n}\n"],"names":[],"mappings":";;;;;;AAEA;AACA;;AAHA;;;AASO,SAAS;;IACZ,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,MAAM,EAAE,GAAG,IAAA,qNAAM,EAC7C,yBACA,4KAAO,EACP;QACI,mBAAmB;QACnB,uBAAuB;QACvB,kBAAkB;QAClB,kBAAkB;IACtB;IAGJ,4CAA4C;IAC5C,MAAM,OAAO,MAAM,WACb;WAAI,KAAK,QAAQ;KAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,SAAS,EAAE,EAAE,IAAI,SAAS,EAAE,EAAE,KAChE,EAAE;IAER,OAAO;QACH;QACA,QAAQ,MAAM;QACd;QACA,SAAS;QACT;IACJ;AACJ;GAxBgB;;QAC+B,qNAAM;;;AA4B9C,SAAS,OAAO,OAAO;;IAC1B,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,OAAO,EAAE,MAAM,EAAE,GAAG;IAE7C,MAAM,cAAc,mBAAmB,WAAW;IAClD,MAAM,MAAM,KAAK,IAAI,CAAC,CAAA,IAAK,EAAE,IAAI,CAAC,WAAW,OAAO,YAAY,WAAW;IAE3E,OAAO;QACH;QACA;QACA;QACA;IACJ;AACJ;IAZgB;;QACiC"}},
    {"offset": {"line": 2939, "column": 0}, "map": {"version":3,"sources":["file:///home/duwa/Git/fix/Naratel-Devops-Dashboard/src/app/manifest/page.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Plus,\n  X,\n  Loader2,\n  CheckCircle,\n  AlertCircle\n} from \"lucide-react\";\nimport DashboardLayout from \"../components/DashboardLayout\";\nimport { useRouter, useSearchParams, usePathname } from \"next/navigation\";\nimport ManifestForm from \"./components/ManifestForm\";\nimport AppList from \"./components/AppList\";\nimport { useRegistry } from \"@/hooks/useRegistry\";\n\nexport default function ManifestPage() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const searchQuery = searchParams.get('search')?.toLowerCase() || '';\n  const action = searchParams.get('action');\n  const messageParam = searchParams.get('message');\n\n  //  SWR: Data fetched once, cached globally, instant on navigation back\n  const { apps: existingApps, isLoading: isLoadingRegistry, mutate } = useRegistry();\n\n  // Feedback Message\n  const [message, setMessage] = useState(null);\n\n  // View State\n  const isCreating = action === 'create';\n\n  const handleCloseCreate = () => {\n    const params = new URLSearchParams(searchParams);\n    params.delete('action');\n    router.push(`${pathname}?${params.toString()}`);\n  };\n\n  useEffect(() => {\n    if (messageParam) {\n      // eslint-disable-next-line\n      setMessage({ text: messageParam, type: 'success' });\n      // Clean URL\n      const params = new URLSearchParams(searchParams);\n      params.delete('message');\n      window.history.replaceState(null, '', `${pathname}?${params.toString()}`);\n    }\n  }, [messageParam, pathname, searchParams]);\n\n  const filteredApps = existingApps.filter(app =>\n    app.name.toLowerCase().includes(searchQuery) ||\n    app.id.toString().includes(searchQuery) ||\n    (app.image && app.image.toLowerCase().includes(searchQuery)) ||\n    (app.liveIngressProd && app.liveIngressProd.toLowerCase().includes(searchQuery))\n  );\n\n  const handleFormSuccess = (msg) => {\n    handleCloseCreate();\n    setMessage({ text: msg, type: 'success' });\n    mutate(); //  Revalidate cache after create\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"w-full h-full flex flex-col\">\n\n        {/* Feedback Message (Page Level) */}\n        {message && !isCreating && (\n          <div className={`mb-6 p-4 rounded-lg border flex items-center gap-3 text-sm animate-in fade-in slide-in-from-top-2 ${message.type === 'success'\n              ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-700 dark:text-green-300'\n              : 'bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-700 dark:text-red-300'\n            }`}>\n            {message.type === 'success' ? <CheckCircle size={18} /> : <AlertCircle size={18} />}\n            <span>{message.text}</span>\n            <button onClick={() => setMessage(null)} className=\"ml-auto hover:opacity-70\"><X size={16} /></button>\n          </div>\n        )}\n\n        {isCreating ? (\n          /* Create App View (Replaces AppList) */\n          <div className=\"animate-in fade-in slide-in-from-bottom-4\">\n            <ManifestForm\n              onClose={handleCloseCreate}\n              onSuccess={handleFormSuccess}\n            />\n          </div>\n        ) : (\n          <>\n            {/* Apps Grid */}\n            {isLoadingRegistry ? (\n              <div className=\"flex flex-col items-center justify-center py-20 text-neutral-500\">\n                <Loader2 size={48} className=\"animate-spin text-[#FFA500] mb-4\" />\n                <p>Loading application registry...</p>\n              </div>\n            ) : (\n              <AppList\n                apps={filteredApps}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;;;AAdA;;;;;;;;AAgBe,SAAS;;IACtB,MAAM,SAAS,IAAA,2LAAS;IACxB,MAAM,WAAW,IAAA,6LAAW;IAC5B,MAAM,eAAe,IAAA,iMAAe;IACpC,MAAM,cAAc,aAAa,GAAG,CAAC,WAAW,iBAAiB;IACjE,MAAM,SAAS,aAAa,GAAG,CAAC;IAChC,MAAM,eAAe,aAAa,GAAG,CAAC;IAEtC,yEAAyE;IACzE,MAAM,EAAE,MAAM,YAAY,EAAE,WAAW,iBAAiB,EAAE,MAAM,EAAE,GAAG,IAAA,sLAAW;IAEhF,mBAAmB;IACnB,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,kNAAQ,EAAC;IAEvC,aAAa;IACb,MAAM,aAAa,WAAW;IAE9B,MAAM,oBAAoB;QACxB,MAAM,SAAS,IAAI,gBAAgB;QACnC,OAAO,MAAM,CAAC;QACd,OAAO,IAAI,CAAC,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;IAChD;IAEA,IAAA,mNAAS;kCAAC;YACR,IAAI,cAAc;gBAChB,2BAA2B;gBAC3B,WAAW;oBAAE,MAAM;oBAAc,MAAM;gBAAU;gBACjD,YAAY;gBACZ,MAAM,SAAS,IAAI,gBAAgB;gBACnC,OAAO,MAAM,CAAC;gBACd,OAAO,OAAO,CAAC,YAAY,CAAC,MAAM,IAAI,GAAG,SAAS,CAAC,EAAE,OAAO,QAAQ,IAAI;YAC1E;QACF;iCAAG;QAAC;QAAc;QAAU;KAAa;IAEzC,MAAM,eAAe,aAAa,MAAM,CAAC,CAAA,MACvC,IAAI,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC,gBAChC,IAAI,EAAE,CAAC,QAAQ,GAAG,QAAQ,CAAC,gBAC1B,IAAI,KAAK,IAAI,IAAI,KAAK,CAAC,WAAW,GAAG,QAAQ,CAAC,gBAC9C,IAAI,eAAe,IAAI,IAAI,eAAe,CAAC,WAAW,GAAG,QAAQ,CAAC;IAGrE,MAAM,oBAAoB,CAAC;QACzB;QACA,WAAW;YAAE,MAAM;YAAK,MAAM;QAAU;QACxC,UAAU,mCAAmC;IAC/C;IAEA,qBACE,sOAAC,kMAAe;kBACd,cAAA,sOAAC;YAAI,WAAU;;gBAGZ,WAAW,CAAC,4BACX,sOAAC;oBAAI,WAAW,CAAC,kGAAkG,EAAE,QAAQ,IAAI,KAAK,YAChI,+GACA,kGACF;;wBACD,QAAQ,IAAI,KAAK,0BAAY,sOAAC,sRAAW;4BAAC,MAAM;;;;;iDAAS,sOAAC,+QAAW;4BAAC,MAAM;;;;;;sCAC7E,sOAAC;sCAAM,QAAQ,IAAI;;;;;;sCACnB,sOAAC;4BAAO,SAAS,IAAM,WAAW;4BAAO,WAAU;sCAA2B,cAAA,sOAAC,6OAAC;gCAAC,MAAM;;;;;;;;;;;;;;;;;gBAI1F,aACC,sCAAsC,iBACtC,sOAAC;oBAAI,WAAU;8BACb,cAAA,sOAAC,2MAAY;wBACX,SAAS;wBACT,WAAW;;;;;;;;;;yCAIf;8BAEG,kCACC,sOAAC;wBAAI,WAAU;;0CACb,sOAAC,wQAAO;gCAAC,MAAM;gCAAI,WAAU;;;;;;0CAC7B,sOAAC;0CAAE;;;;;;;;;;;6CAGL,sOAAC,sMAAO;wBACN,MAAM;;;;;;;;;;;;;;;;;;AAQtB;GAzFwB;;QACP,2LAAS;QACP,6LAAW;QACP,iMAAe;QAMiC,sLAAW;;;KAT1D"}}]
}